

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/banshee_avator.png">
  <link rel="icon" href="/img/banshee_avator.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="JasmineChen">
  <meta name="keywords" content="">
  
    <meta name="description" content="计算机复习第一章 计算机网络1.1-概念计算机网络：   一些互相连接的、一共享资源为目的的、自治的计算机的集合 计算机网络是用通信设备和线路将分散在不同地点的有独立功能的多个计算机系统互相连接起来，并按照网络协议进行数据通信，实现资源共享的计算机集合  特征：连通和共享 1.2-InternetInternet：由网络构成的网络 具体构成：  公共因特网  通信链路：连接相邻两个网络节点的物理线">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络-总结">
<meta property="og:url" content="http://example.com/2023/10/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="JasmineChen&#39;s Blog">
<meta property="og:description" content="计算机复习第一章 计算机网络1.1-概念计算机网络：   一些互相连接的、一共享资源为目的的、自治的计算机的集合 计算机网络是用通信设备和线路将分散在不同地点的有独立功能的多个计算机系统互相连接起来，并按照网络协议进行数据通信，实现资源共享的计算机集合  特征：连通和共享 1.2-InternetInternet：由网络构成的网络 具体构成：  公共因特网  通信链路：连接相邻两个网络节点的物理线">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="e:\typora-user-images\image-20220610142315828-1697679581281276.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610142843715-1697679581281277.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610144326435-1697679581281278.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610144422752-1697679581281281.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610144433668-1697679581281280.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610150001925-1697679581281279.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610150246702-1697679581281282.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610150327145-1697679581281283.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610150611461-1697679581281284.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610150735163-1697679581282285.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610150759015-1697679581282286.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610150833810-1697679581282287.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610151052989-1697679581282288.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610151524793-1697679581282289.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610151539460-1697679581282290.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610154537312-1697679581282291.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610154525965-1697679581282292.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610160358897-1697679581282293.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610160455996-1697679581282295.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610160538645-1697679581282294.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610160618613-1697679581282296.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610161116420-1697679581282297.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610161247663-1697679581282299.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610161222182-1697679581282298.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610161514129-1697679581282300.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610161546598-1697679581282301.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610161736874-1697679581282302.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610161840267-1697679581282303.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610161901686-1697679581282304.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610170514913-1697679581282305.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610170655056-1697679581282306.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610171003276-1697679581282307.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610171015144-1697679581282308.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610171625601-1697679581282309.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610171715662-1697679581282316.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610171906170-1697679581282310.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610171933435-1697679581282311.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610171947466-1697679581282312.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173302686-1697679581282314.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173323771-1697679581282313.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173456874-1697679581282315.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173506935-1697679581282317.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173523840-1697679581282320.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173545121-1697679581282318.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173620002-1697679581282319.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173701960-1697679581282321.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173725101-1697679581282322.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173741788-1697679581282323.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173939624-1697679581282324.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610173953772-1697679581282326.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610174009306-1697679581282325.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610174018292-1697679581282327.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610174438358-1697679581282332.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610174454613-1697679581282329.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610185107942-1697679581282328.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610185426177-1697679581282331.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610185500912-1697679581282330.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610185511319-1697679581282333.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610203158190-1697679581282334.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610203234096-1697679581282336.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610204317898-1697679581282337.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610204516450-1697679581282335.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610205449862-1697679581283338.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610205541331-1697679581283340.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610214142543-1697679581283339.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610205609480-1697679581283341.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610214323234-1697679581283344.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610215041230-1697679581283342.png">
<meta property="og:image" content="e:\typora-user-images\image-20220610215125587-1697679581283343.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611101420503-1697679581283345.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611101439242-1697679581283346.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611101503786-1697679581283347.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611102139957-1697679581283348.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611133112155-1697679581283349.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611133122827-1697679581283350.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611133216945-1697679581283351.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611133751040-1697679581283352.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611133804972-1697679581283353.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611133814782-1697679581283354.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134108597-1697679581283355.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134127008-1697679581283356.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134145512-1697679581283357.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134155483-1697679581283358.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134206380-1697679581283359.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134312402-1697679581283360.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134335283-1697679581283361.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134347234-1697679581283362.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134834190-1697679581283363.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611134841760-1697679581283364.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611135018974-1697679581283365.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611141049848-1697679581283366.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611141350502-1697679581283367.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611141458826-1697679581283368.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611141526257-1697679581283369.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611142414891-1697679581283370.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611142426854-1697679581283371.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611143716544-1697679581283372.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611143754427-1697679581283373.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611145433565-1697679581283374.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611145453955-1697679581283375.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611145812046-1697679581283376.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611145831171-1697679581283378.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611150229078-1697679581283377.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611150435861-1697679581284379.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611152018737-1697679581284382.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611152029168-1697679581284380.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611152203196-1697679581284381.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611152218305-1697679581284383.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611152626518-1697679581284384.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611152709724-1697679581284385.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611152823055-1697679581284386.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611152946125-1697679581284387.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611153009022-1697679581284388.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611153105855-1697679581284389.png">
<meta property="og:image" content="e:\typora-user-images\image-20220611194812700-1697679581284390.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612130705195-1697679581284391.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612131659593-1697679581284392.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612132131795-1697679581284393.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612133653911-1697679581284394.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612133938495-1697679581284395.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612134829770-1697679581284396.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612143301422-1697679581284397.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612143348750-1697679581284398.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612143529279-1697679581284399.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612143554735-1697679581284400.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612144451929-1697679581284401.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612150532540-1697679581284402.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612150948397-1697679581284403.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612151306382-1697679581284404.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612151443525-1697679581284405.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612151803974-1697679581284406.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612151856510-1697679581284407.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612152245756-1697679581284408.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612152432339-1697679581284409.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612152446573-1697679581284412.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612152517660-1697679581284410.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612153139434-1697679581284411.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612153230356-1697679581284413.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161350930-1697679581284414.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161421307-1697679581284415.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161603765-1697679581284416.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161630823-1697679581285417.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161646825-1697679581285418.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161705678-1697679581285419.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161723184-1697679581285420.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161733689-1697679581285421.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161755397-1697679581285422.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161845330-1697679581285423.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161921001-1697679581285424.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612161950925-1697679581285425.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612162005809-1697679581285426.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612162541615-1697679581285427.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612162907791-1697679581285428.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612163843092-1697679581285430.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612164146711-1697679581285429.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612164157622-1697679581285431.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612164425620-1697679581285432.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612164636126-1697679581285435.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612165132665-1697679581285433.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612165147663-1697679581285434.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612165259366-1697679581285436.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612165320156-1697679581285437.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612165809838-1697679581285438.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612165825979-1697679581285439.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612171029381-1697679581285440.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612171345554-1697679581285441.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612171357267-1697679581285442.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612171738236-1697679581285443.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612171751812-1697679581285444.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612171910298-1697679581285445.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612172333742-1697679581285446.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612172400158-1697679581285447.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612172418115-1697679581285448.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612172448926-1697679581286449.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612172640702-1697679581286450.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612172711518-1697679581286451.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612172956657-1697679581286452.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612173006621-1697679581286453.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612180926688-1697679581286454.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612181507837-1697679581286455.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612181639350-1697679581286456.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612181803265-1697679581286457.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612181902378-1697679581286458.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612181938319-1697679581286459.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182042025-1697679581286460.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182055600-1697679581286461.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182120152-1697679581286462.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182142035-1697679581286463.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182301884-1697679581286464.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182509746-1697679581286465.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182521131-1697679581286466.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182549312-1697679581286467.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182652645-1697679581286468.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182834085-1697679581286469.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612182845155-1697679581286470.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612183030528-1697679581286471.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612184432016-1697679581286472.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612203027647-1697679581286473.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612203037162-1697679581286474.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612203052725-1697679581286475.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612203134778-1697679581286477.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612204444656-1697679581286476.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612205145942-1697679581286478.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612205737512-1697679581287479.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612205810058-1697679581287480.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612234712324-1697679581287481.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612235128657-1697679581287482.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612235322266-1697679581287483.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612235334593-1697679581287485.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612235418522-1697679581287484.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612235736874-1697679581287486.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612235803404-1697679581287487.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612235810915-1697679581287488.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612235858360-1697679581287489.png">
<meta property="og:image" content="e:\typora-user-images\image-20220612235930842-1697679581287490.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613135225569-1697679581287491.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613141603530-1697679581287492.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613160717438-1697679581287493.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613160840109-1697679581287494.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613161003703-1697679581287495.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613161012503-1697679581288496.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613161103087-1697679581288497.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613162412684-1697679581288498.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613162601336-1697679581288499.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613163017931-1697679581288500.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164047867-1697679581288501.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164101013-1697679581288502.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164120452-1697679581288504.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164234921-1697679581288503.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164314463-1697679581288505.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164348334-1697679581288507.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164604202-1697679581288506.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164620899-1697679581288508.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164647727-1697679581288509.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164901428-1697679581288510.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613164939889-1697679581288511.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613165150291-1697679581288512.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613165353251-1697679581288513.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613173411479-1697679581288514.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613175522312-1697679581288515.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613190402091-1697679581288516.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613191342474-1697679581288517.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613191613345-1697679581288518.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613191622049-1697679581288519.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613191915438-1697679581288520.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613192557387-1697679581288521.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613192637976-1697679581288522.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613192822231-1697679581288523.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613192832431-1697679581288524.png">
<meta property="og:image" content="e:\%E6%95%99%E6%9D%90\%E5%A4%A7%E4%BA%8C%E4%B8%8B\%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C\image-20220613192914669.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613192945073-1697679581288525.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613193036806-1697679581288526.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613194152217-1697679581288527.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613194204696-1697679581289531.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613194402940-1697679581288528.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613194421640-1697679581288529.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613194654443-1697679581289530.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613194754725-1697679581289532.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613194825165-1697679581289533.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613195021556-1697679581289534.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613195055320-1697679581289535.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613195325297-1697679581289536.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613195442763-1697679581289537.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613195452365-1697679581289538.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613195505630-1697679581289539.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613195532390-1697679581289540.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613195856704-1697679581289541.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613200133563-1697679581289542.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613200225016-1697679581289543.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613200724341-1697679581289544.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613200712575-1697679581289545.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613200735412-1697679581289546.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613200751981-1697679581289548.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613200834350-1697679581289547.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613200918791-1697679581289549.png">
<meta property="og:image" content="e:\typora-user-images\image-20220613200938162-1697679581289550.png">
<meta property="article:published_time" content="2023-10-19T01:30:29.000Z">
<meta property="article:modified_time" content="2023-10-19T01:44:14.056Z">
<meta property="article:author" content="JasmineChen">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="e:\typora-user-images\image-20220610142315828-1697679581281276.png">
  
  
  
  <title>计算机网络-总结 - JasmineChen&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>JasmineChen&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/00R.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="计算机网络-总结"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-10-19 09:30" pubdate>
          2023年10月19日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          30k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          249 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">计算机网络-总结</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="计算机复习"><a href="#计算机复习" class="headerlink" title="计算机复习"></a>计算机复习</h1><h2 id="第一章-计算机网络"><a href="#第一章-计算机网络" class="headerlink" title="第一章 计算机网络"></a>第一章 计算机网络</h2><h3 id="1-1-概念"><a href="#1-1-概念" class="headerlink" title="1.1-概念"></a>1.1-概念</h3><p>计算机网络： </p>
<ul>
<li>一些互相连接的、一共享资源为目的的、自治的计算机的集合</li>
<li>计算机网络是用通信设备和线路将分散在不同地点的有独立功能的多个计算机系统互相连接起来，并按照网络协议进行数据通信，实现资源共享的计算机集合</li>
</ul>
<p>特征：连通和共享</p>
<h3 id="1-2-Internet"><a href="#1-2-Internet" class="headerlink" title="1.2-Internet"></a>1.2-Internet</h3><p>Internet：由网络构成的网络</p>
<p>具体构成：</p>
<ul>
<li><p>公共因特网</p>
</li>
<li><p>通信链路：连接相邻两个网络节点的物理线路</p>
</li>
<li><p>分组交换机：连接端系统的中间交换设备</p>
<p>功能：接受、转发分组</p>
</li>
<li><p>分组交换技术</p>
<p>发送端将要发送的数据分成若干较小的块，添加手部形成分组，分别发送到目的端，再组装恢复数据</p>
<p>第一个分组交换网络：ARPA网</p>
</li>
<li><p>因特网服务提供商：ISP</p>
<p>一个由多个分组交换机和多段通信链路组成的网络</p>
</li>
</ul>
<p>服务：</p>
<ul>
<li><p>提供网络应用基础架构</p>
<p>允许端系统上运行分布式应用程序，并彼此交换数据</p>
</li>
<li><p>为分布式应用程序提供的通信服务接口</p>
<p>无连接服务</p>
<p>面向连接服务</p>
<p>不提过数据传递时间保证(发送端到接收端)的服务</p>
</li>
</ul>
<p>通信控制：</p>
<ul>
<li><p>控制发送和接受消息-协议</p>
<p>协议：控制网络中信息的发送和接受，定义了通信实体之间交换的报文的格式和传输顺序，以及在报文发送或接受或者其他事件方面所采取的行动(响应)</p>
<p>基本要素：语法、语义和同步</p>
</li>
</ul>
<h3 id="1-3网络组成部分"><a href="#1-3网络组成部分" class="headerlink" title="1.3网络组成部分"></a>1.3网络组成部分</h3><p>网络分为两大部分：</p>
<ul>
<li>网络边缘（资源子网）<ul>
<li>外围部件、主机</li>
<li>应用程序</li>
</ul>
</li>
<li>网络核心（通信子网）<ul>
<li>路由器<ul>
<li>接受分组，然后根据分组接受终端的地址信息，将分组转发到相应的输出链路上，最终能使分组到达接受终端</li>
<li>在因特网中，每个分组都会包含接受终端的IP地址，路由器根据IP地址，在自己的转发表中查找这个IP地址（和IP地址的一部分）对应的输出链路</li>
<li>每个路由器通过路由选择协议，自动的对自己维护的转发表进行设置。一个基本准则是：从本路由器到达目的终端的距离最短。</li>
</ul>
</li>
<li>通信链路</li>
<li>网络的网络</li>
</ul>
</li>
</ul>
<p>接入网络：</p>
<ul>
<li><p>接入网</p>
<p>将端系统连接到其边缘路由器的物理链路</p>
</li>
<li><p>边缘路由器</p>
<p>端系统到任何其他远程端系统的路径上的第一台路由器</p>
</li>
</ul>
<p>接入类型</p>
<ul>
<li>家庭接入网络<ul>
<li>点对点接入</li>
<li>电缆英特网接入</li>
<li>线缆调制解调器</li>
<li>光纤到户</li>
</ul>
</li>
<li>企业接入网络：LAN</li>
<li>WIFI无线接入网络</li>
<li>广域无线接入网络</li>
</ul>
<p>物理介质：<br>将网络中不同节点互相连接起来的物理线路</p>
<ul>
<li>导引型媒体<ul>
<li>双绞线（屏蔽&#x2F;非屏蔽）</li>
<li>同轴电缆和光纤线缆</li>
</ul>
</li>
<li>非导引型媒体<ul>
<li>无线电波磁<br>利用无线电波在自由空间传播实现通信</li>
</ul>
</li>
</ul>
<p>端系统上的因特网服务</p>
<ul>
<li>面向连接的服务<br>目的：在端系统间传送数据<br>TCP：可靠、顺序、字节流传输；流量控制；拥塞控制<br>例：HTTP；FTP；SMTP</li>
<li>无连接服务<br>UDP：不可靠数据传输；无流量控制；无拥塞控制<br>例：流媒体；视频会议：DNS等</li>
</ul>
<h3 id="1-4-网络核心部分"><a href="#1-4-网络核心部分" class="headerlink" title="1.4-网络核心部分"></a>1.4-网络核心部分</h3><p>传输数据技术：</p>
<ul>
<li>电路交换<ul>
<li>预留端到端资源</li>
<li>恒定速率传送数据（电话网络）</li>
</ul>
</li>
<li>分组交换<ul>
<li>无需资源预留</li>
<li>按需使用资源，可能要排队等待（因特网）</li>
</ul>
</li>
</ul>
<h4 id="1-4-1-电路交换"><a href="#1-4-1-电路交换" class="headerlink" title="1.4.1-电路交换"></a>1.4.1-电路交换</h4><p>原理：通信双方必须先建立一个专用的连接（电路），一致维持，知道通信结束</p>
<p>多路复用：在一条传输链路上同时建立多条连接，分别传输数据</p>
<ul>
<li>频分多路复用（FDM）<br>链路的频谱由跨越链路创建的连接所共享<br>按频率划分若干频段，每个频段专用于一个连接<br>带宽：频段的带宽：如，8kHZ</li>
<li>时分多路复用（TDM）<br>时间划分为固定区间的帧，每帧在划分为固定数量的时隙，每一个时隙专用于一个连接，用于传输数据</li>
</ul>
<h4 id="1-4-2-分组交换"><a href="#1-4-2-分组交换" class="headerlink" title="1.4.2-分组交换"></a>1.4.2-分组交换</h4><p>报文：应用程序要传输的信息。包含需要的任何内容。如，控制功能和数据</p>
<p>过程：</p>
<ul>
<li>源端将报文划分为较小的数据块（分组）</li>
<li>每个分组通过一系列链路和分组交换机传送，知道目的端</li>
<li>目的端恢复报文</li>
</ul>
<p>传输过程中采用存储转发传输机制</p>
<p>存储转发传输：分组交换机将输入端的整个分组接受下来（存储），再从输出链路转发出去（转发）</p>
<p>排队时延和分组丢失：</p>
<ul>
<li>输出缓存：用于保存准备发往某个链路的分组</li>
<li>排队时延：分组在输出缓存中等待转发的时间</li>
<li>分组丢失：当缓存空间已满时，由分组要被丢弃</li>
</ul>
<p>转发表和路由选择协议：</p>
<ul>
<li>接受分组，然后根据分组接受终端的地址信息，将分组转发到相应的输出链路上，最终能使分组到达接受终端</li>
<li>在因特网中，每个分组都会包含接受终端的IP地址，路由器根据IP地址，在自己的转发表中查找这个IP地址（和IP地址的一部分）对应的输出链路</li>
<li>每个路由器通过路由选择协议，自动的对自己维护的转发表进行设置。一个基本准则是：从本路由器到达目的终端的距离最短。</li>
</ul>
<p>分类：</p>
<ul>
<li><p>数据报网络：TCP&#x2F;IP</p>
</li>
<li><p>虚电路网络：X.25，FR,ATM</p>
<p>一定是面向连接的</p>
</li>
</ul>
<p><strong>报文交换</strong></p>
<p>将要发送的整个信息作为一个报文发送。<br>采用存储转发技术： 整个报文先传送到相邻结点，全部存储下来，再转发到下一个结点。</p>
<h3 id="1-5-分组交换中的延迟、丢失和吞吐量"><a href="#1-5-分组交换中的延迟、丢失和吞吐量" class="headerlink" title="1.5-分组交换中的延迟、丢失和吞吐量"></a>1.5-分组交换中的延迟、丢失和吞吐量</h3><p>延迟和丢失产生原因：</p>
<ul>
<li>分组到达输出链路的速率超过输出链路的容量，产生延迟，甚至丢失</li>
<li>分组在缓冲队列排队，按序等待</li>
</ul>
<p>分组时延类型：</p>
<ul>
<li>节点处理时延，排队时延，传输时延和传播时延等</li>
</ul>
<p>流量强度：比特到达队列的速率于比特从队列中推出的速率之比（设置时流量强度不能大于1）</p>
<h4 id="1-5-1-分组丢失"><a href="#1-5-1-分组丢失" class="headerlink" title="1.5.1-分组丢失"></a>1.5.1-分组丢失</h4><ul>
<li>路由器输入链路和输出链路的缓冲区容量有限</li>
<li>当分组到达路由器输入链路发现缓冲区已满，则路由器只好丢弃分组</li>
<li>当分组在路由器内部要转发到输出链路时发现输出缓冲区队列已满，路由器只好丢弃分组</li>
<li>丢失的分组可能被前路由节点、源节点重传，或不重传</li>
<li>丢包率或分组丢失率（packet loss rate&#x2F;ratio）</li>
</ul>
<h4 id="1-5-2-吞吐量"><a href="#1-5-2-吞吐量" class="headerlink" title="1.5.2-吞吐量"></a>1.5.2-吞吐量</h4><p>吞吐量：接受端接收到数据的比特速率</p>
<ul>
<li>瞬时吞吐量：某一瞬间的吞吐量</li>
<li>平均吞吐量：一段时间内的吞吐量的</li>
</ul>
<h3 id="1-6-协议层及其服务模型"><a href="#1-6-协议层及其服务模型" class="headerlink" title="1.6-协议层及其服务模型"></a>1.6-协议层及其服务模型</h3><p>协议分层：采用分层的方式组织及实现协议的网络硬件和软件</p>
<ul>
<li>每层都有相应的一系列协议，如TCP,HTTP</li>
<li>每层协议通过软件、硬件或者两者结合实现</li>
<li>每层协议可分布在网络的不同组件中</li>
</ul>
<h4 id="1-6-1-因特网协议栈"><a href="#1-6-1-因特网协议栈" class="headerlink" title="1.6.1-因特网协议栈"></a>1.6.1-因特网协议栈</h4><p>协议层实现：以软件、硬件或两者结合的方式</p>
<ul>
<li>应用层（报文）：在端系统中用软件实现，如HTTP<br>功能：提供各种网络应用，传输应用报文（FTP、SMTP、HTTP）</li>
<li>运输层（报文段）：同上<br>功能：在应用程序的客户机和服务器之间提供传输应用层报文服务，传输报文段（TCP、UDP）</li>
<li>网络层（数据报）：硬件、软件混合<br>功能：主机和主机之间传输网络层分组（数据报）（IP协议，选路协议）</li>
<li>链路层（帧）：<br>功能：在邻近单元之间传输数据（帧）（PPP、以太网）</li>
<li>物理层（比特）：负责处理跨越特定链路的通信，通过与该链路相关的网络接口卡实现（物理层和链路层）<br>功能：在节点之间传输比特流（传输媒体）</li>
</ul>
<h4 id="1-6-2-协议分层与数据"><a href="#1-6-2-协议分层与数据" class="headerlink" title="1.6.2-协议分层与数据"></a>1.6.2-协议分层与数据</h4><p>各层发方从上层到下层，收方从下层到上层传递数据</p>
<ul>
<li>发方添加首部信息创建新的数据单元（封装），收方去掉首部（解封）</li>
<li>传递新的数据单元到下层&#x2F;上层</li>
<li>各层传送不同的协议数据单元PDU</li>
</ul>
<h4 id="1-6-3实体、协议、服务和服务访问点总结"><a href="#1-6-3实体、协议、服务和服务访问点总结" class="headerlink" title="1.6.3实体、协议、服务和服务访问点总结"></a>1.6.3实体、协议、服务和服务访问点总结</h4><ul>
<li>对等实体: 两台计算机上同一层所属的程序、进程或实体称为该层的对等程序、对等进程或对等实体。</li>
<li>协议是控制两个对等实体进行通信的规则的集合。</li>
<li>在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。</li>
<li>要实现本层协议，还需要使用下层所提供的服务。</li>
<li>本层的服务用户只能看见服务而无法看见下面的协议。</li>
<li>下面的协议对上面的服务用户是透明的。</li>
<li>协议是“水平的”，即协议是控制对等实体之间通信的规则。</li>
<li>服务是“垂直的”，即服务是由下层向上层通过层间接口(SAP)提供的。</li>
</ul>
<h3 id="1-7-攻击威胁下的网络"><a href="#1-7-攻击威胁下的网络" class="headerlink" title="1.7-攻击威胁下的网络"></a>1.7-攻击威胁下的网络</h3><p>攻击方式：</p>
<ul>
<li>植入恶意软件<ul>
<li>病毒</li>
<li>蠕虫</li>
<li>僵尸网络</li>
</ul>
</li>
<li>攻击服务器和网络基础设施<ul>
<li>拒绝服务攻击<br>弱点攻击、带宽洪泛、连接洪泛</li>
</ul>
</li>
<li>嗅探分组</li>
<li>伪装</li>
<li>修改或删除报文</li>
</ul>
<h2 id="第二章-应用层"><a href="#第二章-应用层" class="headerlink" title="第二章 应用层"></a>第二章 应用层</h2><h3 id="2-1-应用层协议原理"><a href="#2-1-应用层协议原理" class="headerlink" title="2.1-应用层协议原理"></a>2.1-应用层协议原理</h3><p>研发网络应用程序的核心：<br>写出能够运行在不同的端系统并通过网络彼此通信的程序</p>
<p>应用程序软件不应运行在网络核心设备上<br>网络核心设备不在应用层起作用</p>
<h4 id="2-1-1-网络应用程序体系结构"><a href="#2-1-1-网络应用程序体系结构" class="headerlink" title="2.1.1-网络应用程序体系结构"></a>2.1.1-网络应用程序体系结构</h4><ul>
<li><p>客服&#x2F;服务器体系结构</p>
<ul>
<li>服务器<ul>
<li>总是打开的主机</li>
<li>具有固定的、众所周知的IP地址</li>
<li>主机群集常被用于创建强大的虚拟服务器</li>
</ul>
</li>
<li>客户机<ul>
<li>同服务器端通信</li>
<li>可以间断的同服务器连接</li>
<li>可以拥有动态IP地址</li>
<li>客户机相互之间不直接通信</li>
</ul>
</li>
</ul>
</li>
<li><p>纯P2P体系结构</p>
<ul>
<li>没有总是打开的服务器</li>
<li>任意一对主机直接相互通信</li>
<li>对等方间歇连接并且可以改变IP地址</li>
<li>例如：文件分发、英特网电话</li>
<li>优点：自扩展性|缺点：难以管理</li>
</ul>
</li>
<li><p>客户机&#x2F;服务器和P2P混合的体系结构</p>
<ul>
<li>Napster<ul>
<li>文件在对等方之间交换</li>
<li>文件搜索通过服务器</li>
<li>中心服务器记录对等方内容</li>
<li>对等方查询中心服务器来决定要求的文件位置</li>
</ul>
</li>
<li>即使讯息<ul>
<li>两个聊天用户之间是P2P</li>
<li>注册、查询通过服务器</li>
<li>用户上线要在中心服务器上进行注册</li>
<li>用户与中心服务器联系以找出在线伙伴</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-1-2-进程通信"><a href="#2-1-2-进程通信" class="headerlink" title="2.1.2-进程通信"></a>2.1.2-进程通信</h4><p>客户机进程：发起通信的进程</p>
<p>服务器进程：等待其他进程联系的进程</p>
<h4 id="2-1-3-套接字"><a href="#2-1-3-套接字" class="headerlink" title="2.1.3-套接字"></a>2.1.3-套接字</h4><p>套接字：同一台主机内应用层与运输层之间的接口。也叫应用程序和网络之间的应用程序接口API ,是在网络上建立网络应用程序的可编程接口。<br><img src="E:\typora-user-images\image-20220610142315828-1697679581281276.png" srcset="/img/loading.gif" lazyload alt="image-20220610142315828"></p>
<p>用户通过API对传输层的控制仅限于：<br>(1) 选择传输协议;<br>(2) 能设定几个参数</p>
<h4 id="2-1-4-进程识别信息"><a href="#2-1-4-进程识别信息" class="headerlink" title="2.1.4-进程识别信息"></a>2.1.4-进程识别信息</h4><ul>
<li>主机名称或地址：网络中的哪一个主机。<br>因特网中，用IP地址标识（32位，全球惟一）。</li>
<li>进程的标识：主机中的哪一个进程。<br>因特网中，采用端口号标识(port number)。</li>
</ul>
<h4 id="2-1-5用户代理"><a href="#2-1-5用户代理" class="headerlink" title="2.1.5用户代理"></a>2.1.5用户代理</h4><p>是用户有网络应用之间的接口<br><img src="E:\typora-user-images\image-20220610142843715-1697679581281277.png" srcset="/img/loading.gif" lazyload alt="image-20220610142843715"></p>
<h3 id="2-2-Web应用和HTTP协议"><a href="#2-2-Web应用和HTTP协议" class="headerlink" title="2.2-Web应用和HTTP协议"></a>2.2-Web应用和HTTP协议</h3><h4 id="2-2-1-概述"><a href="#2-2-1-概述" class="headerlink" title="2.2.1-概述"></a>2.2.1-概述</h4><p>HTTP：超文本传输协议，应用层协议，Web的核心</p>
<p>客户机程序：浏览器browser请求, 接收Web对象<br>服务器程序：Web服务器响应请求,发送 Web对象</p>
<p>HTTP协议定义了报文的格式以及客户机和服务器交换报文的格式和方式</p>
<p>Web页(文档)：由若干对象组成。<br>对象：是文件。如HTML文件、JPEG图形文件、Java小程序等。通过一个URL地址来寻址<br><img src="E:\typora-user-images\image-20220610144326435-1697679581281278.png" srcset="/img/loading.gif" lazyload alt="image-20220610144326435"></p>
<p><img src="E:\typora-user-images\image-20220610144422752-1697679581281281.png" srcset="/img/loading.gif" lazyload alt="image-20220610144422752"></p>
<p><img src="E:\typora-user-images\image-20220610144433668-1697679581281280.png" srcset="/img/loading.gif" lazyload alt="image-20220610144433668"></p>
<p><strong>概述（续）</strong></p>
<ul>
<li>使用TCP<ul>
<li>客户初始化一个与HTTP服务器80端口的TCP连接 (创建套接字)</li>
<li>HTTP服务器接受来自客户的TCP连接请求, 建立连接</li>
<li>Browser (HTTP client)和Web服务器(HTTP server) 交换HTTP消息(应用层协议消息)包括HTTP请求和响应消息</li>
<li>最后结束(或叫关闭)TCP连接</li>
</ul>
</li>
<li>HTTP是无状态协议<ul>
<li>HTTP服务器不维护客户先前的状态信息</li>
</ul>
</li>
</ul>
<h4 id="2-2-2-HTTP连接"><a href="#2-2-2-HTTP连接" class="headerlink" title="2.2.2-HTTP连接"></a>2.2.2-HTTP连接</h4><ul>
<li>非持久HTTP连接<ul>
<li>每个TCP连接上只传送一个Web对象</li>
<li>只传送一个请求&#x2F;响应对</li>
<li>HTTP&#x2F;1.0使用非持续HTTP连接</li>
</ul>
</li>
<li>持久HTTP连接<ul>
<li>一个TCP连接上可以传送多个Web对象</li>
<li>传送多个请求&#x2F;响应对</li>
<li>HTTP&#x2F;1.1默认使用持续HTTP连接</li>
</ul>
</li>
</ul>
<p><strong>三次握手</strong></p>
<p>RTT（往返时间）：一个小分组从客户主机才服务器再到客户主机花费的时间</p>
<ul>
<li>客户机发送一个TCP连接请求报文段</li>
<li>服务器回送一个TCP确认响应报文段</li>
<li>客户机向服务器发送一个包含“ HTTP请求”与“TCP确认”的报文</li>
<li>总响应时间：两个RTT时延加上服务器发送文件的时间<br>总计 &#x3D; 2RTT+文件传输时间</li>
</ul>
<p><img src="E:\typora-user-images\image-20220610150001925-1697679581281279.png" srcset="/img/loading.gif" lazyload alt="image-20220610150001925"></p>
<p><strong>HTTP报文格式</strong></p>
<p>2类HTTP报文：请求报文request，响应报文response</p>
<ul>
<li><p>HTTP请求报文（ASCII文本）<br><img src="E:\typora-user-images\image-20220610150246702-1697679581281282.png" srcset="/img/loading.gif" lazyload alt="image-20220610150246702"></p>
<p><img src="E:\typora-user-images\image-20220610150327145-1697679581281283.png" srcset="/img/loading.gif" lazyload alt="image-20220610150327145"></p>
<p><img src="E:\typora-user-images\image-20220610150611461-1697679581281284.png" srcset="/img/loading.gif" lazyload alt="image-20220610150611461"></p>
</li>
<li><p>HTTP响应报文</p>
<p><img src="E:\typora-user-images\image-20220610150735163-1697679581282285.png" srcset="/img/loading.gif" lazyload alt="image-20220610150735163"></p>
<p><img src="E:\typora-user-images\image-20220610150759015-1697679581282286.png" srcset="/img/loading.gif" lazyload alt="image-20220610150759015"></p>
<p><img src="E:\typora-user-images\image-20220610150833810-1697679581282287.png" srcset="/img/loading.gif" lazyload alt="image-20220610150833810"></p>
</li>
</ul>
<h4 id="2-2-3-Cookies"><a href="#2-2-3-Cookies" class="headerlink" title="2.2.3-Cookies"></a>2.2.3-Cookies</h4><p>Cookie：允许Web站点跟踪、识别用户；服务器可以限制用户访问，或把内容与用户身份关联<br><img src="E:\typora-user-images\image-20220610151052989-1697679581282288.png" srcset="/img/loading.gif" lazyload alt="image-20220610151052989"></p>
<p>重要方面：</p>
<ul>
<li>cookie头部行在HTTP请求消息中</li>
<li>cookie头部行在HTTP响应消息中</li>
<li>cookie文件 保存在用户主机中并被用户浏览器管理</li>
<li>cookie也保存在Web站点的后端数据库</li>
</ul>
<h4 id="2-2-4-Web缓存（代理服务器）"><a href="#2-2-4-Web缓存（代理服务器）" class="headerlink" title="2.2.4-Web缓存（代理服务器）"></a>2.2.4-Web缓存（代理服务器）</h4><p>能够代表起始服务器来满足HTTP请求的网络实体</p>
<ul>
<li>用户配置浏览器: Web 访问经由缓存</li>
<li>所有HTTP请求指向缓存</li>
</ul>
<p>目标：代表起始服务器满足HTTP请求<br><img src="E:\typora-user-images\image-20220610151524793-1697679581282289.png" srcset="/img/loading.gif" lazyload alt="image-20220610151524793"></p>
<p><img src="E:\typora-user-images\image-20220610151539460-1697679581282290.png" srcset="/img/loading.gif" lazyload alt="image-20220610151539460"></p>
<p>Web缓存部署位置：</p>
<p>服务器端、代理服务器端、客户端</p>
<p>使用Web缓存替换算法，移除价值较低的对象算法如何实现？<br>随机替换算法<br>基于访问时间间隔的替换算法<br>基于访问频率的替换算法<br>基于对象大小的替换算法<br>基于目标函数的替换算法</p>
<p>条件GET方法</p>
<p><img src="E:\typora-user-images\image-20220610154537312-1697679581282291.png" srcset="/img/loading.gif" lazyload alt="image-20220610154537312"></p>
<p><img src="E:\typora-user-images\image-20220610154525965-1697679581282292.png" srcset="/img/loading.gif" lazyload alt="image-20220610154525965"></p>
<h3 id="2-3-文件传输协议：FTP"><a href="#2-3-文件传输协议：FTP" class="headerlink" title="2.3-文件传输协议：FTP"></a>2.3-文件传输协议：FTP</h3><p>文件传送协议 FTP (File Transfer Protocol) 是因特网上使用得最广泛的文件传送协议。<br>FTP 提供交互式的访问，允许客户指明文件的类型与格式，并允许文件具有存取权限。<br>FTP 屏蔽了各计算机系统的细节，因而适合于在异构网络中任意计算机之间传送文件。<br>RFC 959 很早就成为了因特网的正式标准</p>
<p>传输过程：</p>
<ul>
<li><p>用户提供远程主机的主机名：在本地主机的FTP客户机进程与远程主机FTP服务器进程之间建立TCP连接；</p>
</li>
<li><p>提供用户标识和口令：在该TCP连接上向服务器传送。</p>
</li>
<li><p>服务器验证通过后，进行文件传送（双向）：<br>将本地文件系统中的文件传送到远程文件系统（上传）或从远程文件系统中得到文件（下载）</p>
<p><img src="E:\typora-user-images\image-20220610160358897-1697679581282293.png" srcset="/img/loading.gif" lazyload alt="image-20220610160358897"></p>
</li>
</ul>
<p><img src="E:\typora-user-images\image-20220610160455996-1697679581282295.png" srcset="/img/loading.gif" lazyload alt="image-20220610160455996"></p>
<p><img src="E:\typora-user-images\image-20220610160538645-1697679581282294.png" srcset="/img/loading.gif" lazyload alt="image-20220610160538645"></p>
<p>FTP命令和应答：</p>
<p><img src="E:\typora-user-images\image-20220610160618613-1697679581282296.png" srcset="/img/loading.gif" lazyload alt="image-20220610160618613"></p>
<h3 id="2-4-因特网中的电子邮件SMTP，POP3，IMAP"><a href="#2-4-因特网中的电子邮件SMTP，POP3，IMAP" class="headerlink" title="2.4-因特网中的电子邮件SMTP，POP3，IMAP"></a>2.4-因特网中的电子邮件SMTP，POP3，IMAP</h3><p>邮件阅读器：允许用户阅读、回复、发送、保存和撰写报文</p>
<ul>
<li>当用户完成邮件撰写时，邮件代理向其邮件服务器发送邮件，并存放在发送队列中。</li>
<li>当用户想读取一封邮件时，邮件代理从其邮件服务器的邮箱中获取该邮件</li>
</ul>
<p><strong>发送过程</strong></p>
<ul>
<li>邮件保存到发送方报文队列</li>
<li>通过SMTP协议转发到接收方邮件服务器，保存到相应邮箱中<ul>
<li>若投递失败，发送方将其保存在一个报文队列中，以后每30分钟发送一次，若几天后仍未成功，将该报文删除，并通知发送方。</li>
<li>用户访问自己邮箱时，邮件服务器对其身份进行验证(用户名和口令)。</li>
</ul>
</li>
</ul>
<h4 id="2-4-1-电子邮件：SMTP"><a href="#2-4-1-电子邮件：SMTP" class="headerlink" title="2.4.1-电子邮件：SMTP"></a>2.4.1-电子邮件：SMTP</h4><p><img src="E:\typora-user-images\image-20220610161116420-1697679581282297.png" srcset="/img/loading.gif" lazyload alt="image-20220610161116420"></p>
<p>例子：Alice发送消息到Bob</p>
<p><img src="E:\typora-user-images\image-20220610161247663-1697679581282299.png" srcset="/img/loading.gif" lazyload alt="image-20220610161247663"></p>
<p>与HTTP的对比：</p>
<p><img src="E:\typora-user-images\image-20220610161222182-1697679581282298.png" srcset="/img/loading.gif" lazyload alt="image-20220610161222182"></p>
<p>邮件消息的格式：</p>
<p><img src="E:\typora-user-images\image-20220610161514129-1697679581282300.png" srcset="/img/loading.gif" lazyload alt="image-20220610161514129"></p>
<p>多媒体扩展：</p>
<p><img src="E:\typora-user-images\image-20220610161546598-1697679581282301.png" srcset="/img/loading.gif" lazyload alt="image-20220610161546598"></p>
<p>邮件访问协议：</p>
<p><img src="E:\typora-user-images\image-20220610161736874-1697679581282302.png" srcset="/img/loading.gif" lazyload alt="image-20220610161736874"></p>
<h4 id="2-4-2-POP3协议"><a href="#2-4-2-POP3协议" class="headerlink" title="2.4.2-POP3协议"></a>2.4.2-POP3协议</h4><p>POP3（第三版的邮局协议）<br><img src="E:\typora-user-images\image-20220610161840267-1697679581282303.png" srcset="/img/loading.gif" lazyload alt="image-20220610161840267"></p>
<p><img src="E:\typora-user-images\image-20220610161901686-1697679581282304.png" srcset="/img/loading.gif" lazyload alt="image-20220610161901686"></p>
<h4 id="2-4-3-IMAP协议"><a href="#2-4-3-IMAP协议" class="headerlink" title="2.4.3-IMAP协议"></a>2.4.3-IMAP协议</h4><p>IMAP（因特网邮件访问协议）</p>
<p> POP3缺陷：功能简单。 POP3会话是无状态的<br>IMAP： 功能强</p>
<ul>
<li>在用户的PC机上运行IMAP客户程序，然后与ISP的邮件服务器上的IMAP服务器程序建立TCP连接。</li>
<li>用户在自己的PC机上就可以操纵邮件服务器的邮箱，就像在本地操纵一样，是一个联机协议。</li>
<li>IMAP服务器把每个报文与一个文件夹联系起来。</li>
<li>IMAP 还允许收件人只读取邮件中的某一个部分</li>
<li>IMAP服务器维护用户的会话状态。</li>
<li>未发出删除命令前，一直保存在邮件服务器</li>
<li>实现起来复杂。</li>
</ul>
<h3 id="2-5-DNS：英特网的目录服务"><a href="#2-5-DNS：英特网的目录服务" class="headerlink" title="2.5-DNS：英特网的目录服务"></a>2.5-DNS：英特网的目录服务</h3><p>标识主机的两种方式：</p>
<ul>
<li>主机名<br>用于人记忆识别</li>
<li>IP地址<br>路由器同意处理，用于分组寻址</li>
</ul>
<p>域名系统DNS：进行主机名到IP地址的转换</p>
<ul>
<li>一个由分层的DNS服务器实现的分布式数据库</li>
<li>允许主机查询分布式数据库的应用层协议；</li>
<li>DNS协议运行在UDP之上，使用53号端口。</li>
<li>DNS通常直接由其他的应用层协议 (包括HTTP、SMTP 和FTP)使用，以将用户提供的主机名解析为IP地址。用户只是间接使用。</li>
</ul>
<h4 id="2-5-1-运行过程"><a href="#2-5-1-运行过程" class="headerlink" title="2.5.1-运行过程"></a>2.5.1-运行过程</h4><p><img src="E:\typora-user-images\image-20220610170514913-1697679581282305.png" srcset="/img/loading.gif" lazyload alt="image-20220610170514913"></p>
<p><img src="E:\typora-user-images\image-20220610170655056-1697679581282306.png" srcset="/img/loading.gif" lazyload alt="image-20220610170655056"></p>
<h4 id="2-5-2-DNS查询方法："><a href="#2-5-2-DNS查询方法：" class="headerlink" title="2.5.2-DNS查询方法："></a>2.5.2-DNS查询方法：</h4><ul>
<li><p>递归查询</p>
<p><img src="E:\typora-user-images\image-20220610171003276-1697679581282307.png" srcset="/img/loading.gif" lazyload alt="image-20220610171003276"></p>
</li>
<li><p>迭代查询</p>
<p><img src="E:\typora-user-images\image-20220610171015144-1697679581282308.png" srcset="/img/loading.gif" lazyload alt="image-20220610171015144"></p>
</li>
</ul>
<p>DNS缓存和权威DNS记录更新</p>
<ul>
<li><p>一旦名字服务器获得DNS映射, 它将缓存该映射到局部内存</p>
<ul>
<li><p>服务器在一定时间后将丢弃缓存的信息</p>
</li>
<li><p>本地DNS服务器可以缓存TLD服务器的IP地址</p>
</li>
<li><p>因此根DNS服务器不会被经常访问</p>
</li>
</ul>
</li>
<li><p>权威DNS服务器记录更新：IETF动态更新&#x2F;通报机制，RFC 2136</p>
</li>
</ul>
<h4 id="2-5-3-DNS记录："><a href="#2-5-3-DNS记录：" class="headerlink" title="2.5.3-DNS记录："></a>2.5.3-DNS记录：</h4><p>RR（存储资源记录）：提供主机名到IP地址映射<br>RR 格式: (name, value, type,ttl)</p>
<ul>
<li>Type&#x3D;A（Adress）<br>name &#x3D; 主机名<br>value &#x3D; IP地址</li>
<li>Type&#x3D;NS（ name server ）<br>name &#x3D; 域名(如baidu.com）<br>value &#x3D; 该域权威名字服务器的<br>主机名</li>
<li>Type&#x3D;CNAME（canonical name）<br>name &#x3D; 主机别名<br><a target="_blank" rel="noopener" href="http://www.ibm.com的规范主机名为/">www.ibm.com的规范主机名为</a><br>servereast.backup2.ibm.com<br>value &#x3D; 真实的规范主机名</li>
<li>Type&#x3D;MX（mail exchange）<br>name &#x3D;邮件服务器的主机别名<br>value &#x3D;邮件服务器的真实规范主机</li>
</ul>
<h4 id="2-5-4-DNS协议："><a href="#2-5-4-DNS协议：" class="headerlink" title="2.5.4-DNS协议："></a>2.5.4-DNS协议：</h4><p>查询报文与应答报文，具有同样的报文格式<br><img src="E:\typora-user-images\image-20220610171625601-1697679581282309.png" srcset="/img/loading.gif" lazyload alt="image-20220610171625601"></p>
<p><img src="E:\typora-user-images\image-20220610171715662-1697679581282316.png" srcset="/img/loading.gif" lazyload alt="image-20220610171715662"></p>
<p>问题格式：<br><img src="E:\typora-user-images\image-20220610171906170-1697679581282310.png" srcset="/img/loading.gif" lazyload alt="image-20220610171906170"></p>
<p>回答、权威、附加部分的格式：<br><img src="E:\typora-user-images\image-20220610171933435-1697679581282311.png" srcset="/img/loading.gif" lazyload alt="image-20220610171933435"></p>
<p>例：<img src="E:\typora-user-images\image-20220610171947466-1697679581282312.png" srcset="/img/loading.gif" lazyload alt="image-20220610171947466"></p>
<p>DOS攻击：</p>
<ul>
<li>DDoS攻击：对根域名服务器或顶级域名服务器发起拒绝服务攻击</li>
<li>重定向攻击：中间人攻击、DNS中毒攻击（发送欺骗的域名解析结果给DNS服务器）</li>
<li>利用DNS实现DDoS攻击： DNS反弹式拒绝服务攻击(DNS reflector attacks，又称DNS amplification attacks)。伪造客户地址向大量的dns服务器发出请求，导致客户无法访问dns服务器进行域名解析。</li>
</ul>
<h3 id="2-6-P2P技术"><a href="#2-6-P2P技术" class="headerlink" title="2.6-P2P技术"></a>2.6-P2P技术</h3><p>P2P文件共享：位于网络边缘的PC机（对等方peer）互相之间可以直接获取对象。<br>说明：每个参与的对等方既是内容的消费者也是内容的发布者（下<br>载同时也向其他用户上载）</p>
<h4 id="2-6-1-过程"><a href="#2-6-1-过程" class="headerlink" title="2.6.1-过程"></a>2.6.1-过程</h4><p><img src="E:\typora-user-images\image-20220610173302686-1697679581282314.png" srcset="/img/loading.gif" lazyload alt="image-20220610173302686"></p>
<p><img src="E:\typora-user-images\image-20220610173323771-1697679581282313.png" srcset="/img/loading.gif" lazyload alt="image-20220610173323771"></p>
<h4 id="2-6-2-内容定位体系结构"><a href="#2-6-2-内容定位体系结构" class="headerlink" title="2.6.2-内容定位体系结构"></a>2.6.2-内容定位体系结构</h4><ul>
<li><p>集中式目录</p>
<p><img src="E:\typora-user-images\image-20220610173456874-1697679581282315.png" srcset="/img/loading.gif" lazyload alt="image-20220610173456874"></p>
<p><img src="E:\typora-user-images\image-20220610173506935-1697679581282317.png" srcset="/img/loading.gif" lazyload alt="image-20220610173506935"></p>
<p><img src="E:\typora-user-images\image-20220610173523840-1697679581282320.png" srcset="/img/loading.gif" lazyload alt="image-20220610173523840"></p>
</li>
<li><p>查询洪泛</p>
<p><img src="E:\typora-user-images\image-20220610173545121-1697679581282318.png" srcset="/img/loading.gif" lazyload alt="image-20220610173545121"></p>
<ul>
<li><p>Gnutella</p>
<p><img src="E:\typora-user-images\image-20220610173620002-1697679581282319.png" srcset="/img/loading.gif" lazyload alt="image-20220610173620002"></p>
<p><img src="E:\typora-user-images\image-20220610173701960-1697679581282321.png" srcset="/img/loading.gif" lazyload alt="image-20220610173701960"></p>
<p><img src="E:\typora-user-images\image-20220610173725101-1697679581282322.png" srcset="/img/loading.gif" lazyload alt="image-20220610173725101"></p>
<p><img src="E:\typora-user-images\image-20220610173741788-1697679581282323.png" srcset="/img/loading.gif" lazyload alt="image-20220610173741788"></p>
</li>
<li></li>
</ul>
</li>
<li><p>利用不均匀性</p>
<ul>
<li>KaZaA</li>
</ul>
<p><img src="E:\typora-user-images\image-20220610173939624-1697679581282324.png" srcset="/img/loading.gif" lazyload alt="image-20220610173939624"></p>
<p><img src="E:\typora-user-images\image-20220610173953772-1697679581282326.png" srcset="/img/loading.gif" lazyload alt="image-20220610173953772"></p>
<p><img src="E:\typora-user-images\image-20220610174009306-1697679581282325.png" srcset="/img/loading.gif" lazyload alt="image-20220610174009306"></p>
<p><img src="E:\typora-user-images\image-20220610174018292-1697679581282327.png" srcset="/img/loading.gif" lazyload alt="image-20220610174018292"></p>
</li>
</ul>
<p>P2P文件分发-BitTorrent</p>
<p>BitTorrent是一种用于文件分发的流行P2P协议<br>参与一个特定文件分发的所有对等方的集合被称为一个洪流（torrent）<br>一个洪流中的对等方彼此下载等长度的文件快（chunk），典型快长度为256KB</p>
<p><img src="E:\typora-user-images\image-20220610174438358-1697679581282332.png" srcset="/img/loading.gif" lazyload alt="image-20220610174438358"></p>
<p><img src="E:\typora-user-images\image-20220610174454613-1697679581282329.png" srcset="/img/loading.gif" lazyload alt="image-20220610174454613"></p>
<h3 id="2-7-内容分发网络（CDN）"><a href="#2-7-内容分发网络（CDN）" class="headerlink" title="2.7-内容分发网络（CDN）"></a>2.7-内容分发网络（CDN）</h3><p>解决办法：基于基础应用设施级别的内容分发</p>
<p>多媒体视频流：DASH<br><img src="E:\typora-user-images\image-20220610185107942-1697679581282328.png" srcset="/img/loading.gif" lazyload alt="image-20220610185107942"></p>
<p>选项：将多份拷贝存储在地理上分散的不同站点来提供服务（CDN）</p>
<p><img src="E:\typora-user-images\image-20220610185426177-1697679581282331.png" srcset="/img/loading.gif" lazyload alt="image-20220610185426177"></p>
<p><img src="E:\typora-user-images\image-20220610185500912-1697679581282330.png" srcset="/img/loading.gif" lazyload alt="image-20220610185500912"></p>
<p><img src="E:\typora-user-images\image-20220610185511319-1697679581282333.png" srcset="/img/loading.gif" lazyload alt="image-20220610185511319"></p>
<h2 id="第三章-运输层"><a href="#第三章-运输层" class="headerlink" title="第三章 运输层"></a>第三章 运输层</h2><h3 id="3-1-传输层服务"><a href="#3-1-传输层服务" class="headerlink" title="3.1-传输层服务"></a>3.1-传输层服务</h3><p>在两个不同的主机上运行的应用程序之间提供逻辑通信</p>
<p>传输层协议运行在端系统</p>
<ul>
<li>发送方：将应用程序报文分成数据段传递给网络层</li>
<li>接受方：将数据段重新组装成报文传递到应用层</li>
</ul>
<p>从通信和信息服务处理的角度看，运输层向它上面的应用层提供通信服务，它属于面向通信部分的最高层，同时也是用户功能的最低层</p>
<p>传输层：两个进程之间的逻辑通信；可靠，增强的网络层服务</p>
<ul>
<li>解决的是计算机进程到计算机进程之间的通信问题，即所谓的“端”到“端”的通信</li>
</ul>
<p>网络层：两个主机之间的逻辑通信</p>
<h3 id="3-2-多路复用和多路分解"><a href="#3-2-多路复用和多路分解" class="headerlink" title="3.2-多路复用和多路分解"></a>3.2-多路复用和多路分解</h3><p><img src="E:\typora-user-images\image-20220610203158190-1697679581282334.png" srcset="/img/loading.gif" lazyload alt="image-20220610203158190"></p>
<p><img src="E:\typora-user-images\image-20220610203234096-1697679581282336.png" srcset="/img/loading.gif" lazyload alt="image-20220610203234096"></p>
<p>多路分解工作过程：</p>
<ul>
<li><p>主机接受IP数据报</p>
<ul>
<li>每个数据包承载1个运输层段</li>
<li>每个段具有源、目的端口号</li>
</ul>
</li>
<li><p>主机使用IP地址&amp;端口号将段定向到适当的套接字</p>
</li>
</ul>
<p>无连接多路分解：</p>
<ul>
<li><p>生成具有端口号的套接字:<br>DatagramSocket mySocket1 &#x3D; new<br>DatagramSocket(9911);<br>serverSocket &#x3D; socket(AF_INET,SOCK_DGRAM)<br>serverSocket.bind((‘’, serverPort))</p>
</li>
<li><p>UDP套接字由二元组标识 :<br>(目的地IP地址, 目的地端口号)</p>
</li>
<li><p>当主机接收UDP报文段时:</p>
<ul>
<li>在报文段中检查目的地端口号</li>
<li>将UDP段定向到具有该端口号的套接字</li>
</ul>
</li>
<li><p>具有不同的源IP地址且&#x2F;或源端口号，但具有相同的目的IP地址和目的端口号的IP报文段指向同样的套接</p>
<p><img src="E:\typora-user-images\image-20220610204317898-1697679581282337.png" srcset="/img/loading.gif" lazyload alt="image-20220610204317898"></p>
</li>
</ul>
<p>面向连接的多路分解：</p>
<p>TCP 套接字由4部分指定：源IP地址、源端口号、目的IP地址、目的端口号<br>接收主机使用所有四个值将数据段定位到合适的套接字</p>
<p>服务器主机支持很多同时的TCP 套接字：每个套接字用4部分来表示</p>
<p><img src="E:\typora-user-images\image-20220610204516450-1697679581282335.png" srcset="/img/loading.gif" lazyload alt="image-20220610204516450"></p>
<h3 id="3-3-无连接传输：UDP"><a href="#3-3-无连接传输：UDP" class="headerlink" title="3.3-无连接传输：UDP"></a>3.3-无连接传输：UDP</h3><p>1、</p>
<ul>
<li>UDP 只在 IP 的数据报服务之上增加了很少一点的功能，即端口的功能和差错检测的功能。</li>
<li>虽然 UDP 用户数据报只能提供不可靠的交付，但 UDP 在某些方面有其特殊的优点。</li>
<li>UDP 是无连接的，即发送数据之前不需要建立连接。</li>
<li>UDP 使用尽最大努力交付，即不保证可靠交付，同时也不使用拥塞控制。</li>
<li>UDP 没有拥塞控制，很适合多媒体通信的要求。</li>
<li>UDP 支持一对一、一对多、多对一和多对多的交互通信</li>
</ul>
<p>2、</p>
<ul>
<li><p>UDP 的首部开销小，只有 8 个字节。</p>
</li>
<li><p>UDP 是面向报文的。发送方 UDP 对应用程序交下来的报文，在加<br>首部后就向下交付 IP 层。UDP 对应用层交下来的报文，既不合并，<br>也不拆分，而是保留这些报文的边界。</p>
</li>
<li><p>应用层交给 UDP 多长的报文，UDP 就照样发送，即一次发送一个报文。</p>
</li>
<li><p>接收方 UDP 对 IP 层交上来的 UDP 用户数据报，在去除首部后就原<br>封不动地交付上层的应用进程，一次交付一个完整的报文。</p>
</li>
<li><p>应用程序必须选择合适大小的报文。</p>
<p><img src="E:\typora-user-images\image-20220610205449862-1697679581283338.png" srcset="/img/loading.gif" lazyload alt="image-20220610205449862"></p>
</li>
</ul>
<h4 id="3-3-1-UDP的报文段结构"><a href="#3-3-1-UDP的报文段结构" class="headerlink" title="3.3.1-UDP的报文段结构"></a>3.3.1-UDP的报文段结构</h4><p><img src="E:\typora-user-images\image-20220610205541331-1697679581283340.png" srcset="/img/loading.gif" lazyload alt="image-20220610205541331"></p>
<p><img src="E:\typora-user-images\image-20220610214142543-1697679581283339.png" srcset="/img/loading.gif" lazyload alt="image-20220610214142543"></p>
<p><img src="E:\typora-user-images\image-20220610205609480-1697679581283341.png" srcset="/img/loading.gif" lazyload alt="image-20220610205609480"></p>
<h4 id="3-3-2-UDP校验和"><a href="#3-3-2-UDP校验和" class="headerlink" title="3.3.2-UDP校验和"></a>3.3.2-UDP校验和</h4><p>目标：对传输的数据进行差错检验</p>
<p>发送方：</p>
<ul>
<li>将数据段看成16bit的整数序列</li>
<li>校验和：段内容进行带循环进位的加法，结果取反码</li>
<li>发送者将校验和值放入UDP的校验和域</li>
</ul>
<p>接受方：</p>
<ul>
<li><p>计算接收到的整个报文段的校验和（包括校验和）</p>
</li>
<li><p>检查：</p>
<ul>
<li>0 ：没有检测到错误</li>
<li>非0：检测到错误</li>
</ul>
<p><img src="E:\typora-user-images\image-20220610214323234-1697679581283344.png" srcset="/img/loading.gif" lazyload alt="image-20220610214323234"></p>
</li>
</ul>
<h3 id="3-4-可靠数据传输原理"><a href="#3-4-可靠数据传输原理" class="headerlink" title="3.4-可靠数据传输原理"></a>3.4-可靠数据传输原理</h3><p><img src="E:\typora-user-images\image-20220610215041230-1697679581283342.png" srcset="/img/loading.gif" lazyload alt="image-20220610215041230"></p>
<h4 id="3-4-1-Rdt1-0"><a href="#3-4-1-Rdt1-0" class="headerlink" title="3.4.1-Rdt1.0"></a>3.4.1-Rdt1.0</h4><p>完全可靠信道上的可靠数据传输<br>在完美可靠的信道上</p>
<ul>
<li>没有bit错误</li>
<li>没有分组丢失</li>
</ul>
<p>发送方、接受方单独的FSMs：</p>
<ul>
<li><p>发送方发送数据到下层信道</p>
</li>
<li><p>接收方从下层信道接受数据</p>
<p><img src="E:\typora-user-images\image-20220610215125587-1697679581283343.png" srcset="/img/loading.gif" lazyload alt="image-20220610215125587"></p>
</li>
</ul>
<h4 id="3-4-2-Rdt2-0"><a href="#3-4-2-Rdt2-0" class="headerlink" title="3.4.2-Rdt2.0"></a>3.4.2-Rdt2.0</h4><p>具有bit错误的信道</p>
<ul>
<li><p>下层信道可能让传输分组中的bit受损</p>
<ul>
<li>校验和将检测到bit错误</li>
</ul>
</li>
<li><p>问题: 如何从错误中恢复</p>
<ul>
<li>确认(ACKs): 接收方明确告诉发送方 分组接收正确</li>
<li>否认 (NAKs):接收方明确告诉发送方 分组接收出错</li>
<li>发送方收到NAK后重发这个分组</li>
</ul>
</li>
<li><p>在 rdt2.0的新机制 (在 rdt1.0中没有的):</p>
<ul>
<li>差错检测</li>
<li>接收方反馈: 控制信息 (ACK,NAK)</li>
<li>重传</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611101420503-1697679581283345.png" srcset="/img/loading.gif" lazyload alt="image-20220611101420503"></p>
<p><img src="E:\typora-user-images\image-20220611101439242-1697679581283346.png" srcset="/img/loading.gif" lazyload alt="image-20220611101439242"></p>
<p><img src="E:\typora-user-images\image-20220611101503786-1697679581283347.png" srcset="/img/loading.gif" lazyload alt="image-20220611101503786"></p>
<p><img src="E:\typora-user-images\image-20220611102139957-1697679581283348.png" srcset="/img/loading.gif" lazyload alt="image-20220611102139957"></p>
</li>
</ul>
<h4 id="3-4-3-Rdt2-1"><a href="#3-4-3-Rdt2-1" class="headerlink" title="3.4.3-Rdt2.1:"></a>3.4.3-Rdt2.1:</h4><ul>
<li><p>发送方</p>
<ul>
<li>序号seq # 加入分组中</li>
<li>两个序号seq. #’s (0,1) 将够用.<br>( 为什么?)</li>
<li>必须检查是否收到的ACK&#x2F;NAK<br>受损</li>
<li>状态增加一倍： 状态必须“记住”是否“当前的”分组具有0或1序号</li>
</ul>
</li>
<li><p>接收方</p>
<ul>
<li>必须检查是否接收到的分组是冗余的：状态指示是否0或1是所期待的分组序号seq #</li>
<li>注意: 接收方不能知道是否它的<br>最后的ACK&#x2F;NAK在发送方已经<br>被正确的接收</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611133112155-1697679581283349.png" srcset="/img/loading.gif" lazyload alt="image-20220611133112155"></p>
<p><img src="E:\typora-user-images\image-20220611133122827-1697679581283350.png" srcset="/img/loading.gif" lazyload alt="image-20220611133122827"></p>
</li>
</ul>
<h4 id="3-4-4-Rdt2-2"><a href="#3-4-4-Rdt2-2" class="headerlink" title="3.4.4-Rdt2.2"></a>3.4.4-Rdt2.2</h4><p>一个不要NAK的协议</p>
<ul>
<li><p>同 rdt2.1一样的功能, 只用 ACKs</p>
</li>
<li><p>代替NAK,接收方对最后正确接收的分组发送ACK： 接收方必须明确包含被确认的报文的序号</p>
</li>
<li><p>发送方收到重复 ACK 将导致和 NAK一样的处理:<br>重发当前报文</p>
<p><img src="E:\typora-user-images\image-20220611133216945-1697679581283351.png" srcset="/img/loading.gif" lazyload alt="image-20220611133216945"></p>
</li>
</ul>
<h4 id="3-4-5-Rdt3-0"><a href="#3-4-5-Rdt3-0" class="headerlink" title="3.4.5-Rdt3.0"></a>3.4.5-Rdt3.0</h4><p>具有出错和丢失的信道</p>
<p>方法：发送方等待ACK一段“合理的”时间</p>
<ul>
<li>如在这段时间没有收到ACK则重传</li>
<li>如果分组(或ACK)只是延迟(没有丢失)：<ul>
<li>重传将是冗余的，但序号的使用已经<br>处理了该情况</li>
<li>接收方必须定义被确认的分组序号</li>
</ul>
</li>
<li>需要倒计时定时器</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611133751040-1697679581283352.png" srcset="/img/loading.gif" lazyload alt="image-20220611133751040"></p>
<p><img src="E:\typora-user-images\image-20220611133804972-1697679581283353.png" srcset="/img/loading.gif" lazyload alt="image-20220611133804972"></p>
<p><img src="E:\typora-user-images\image-20220611133814782-1697679581283354.png" srcset="/img/loading.gif" lazyload alt="image-20220611133814782"></p>
<h4 id="3-4-6-流水线技术"><a href="#3-4-6-流水线技术" class="headerlink" title="3.4.6-流水线技术"></a>3.4.6-流水线技术</h4><p>流水线：发送方允许发送多个“在路上的”，还没有确认的报文</p>
<ul>
<li>序号数目的范围必须增加</li>
<li>在发送方&#x2F;接收方必须有缓冲区</li>
</ul>
<p>通用形式：</p>
<ul>
<li>GO-Back—N<ul>
<li><img src="E:\typora-user-images\image-20220611134108597-1697679581283355.png" srcset="/img/loading.gif" lazyload alt="image-20220611134108597"></li>
<li><img src="E:\typora-user-images\image-20220611134127008-1697679581283356.png" srcset="/img/loading.gif" lazyload alt="image-20220611134127008"></li>
<li><img src="E:\typora-user-images\image-20220611134145512-1697679581283357.png" srcset="/img/loading.gif" lazyload alt="image-20220611134145512"></li>
<li><img src="E:\typora-user-images\image-20220611134155483-1697679581283358.png" srcset="/img/loading.gif" lazyload alt="image-20220611134155483"></li>
<li><img src="E:\typora-user-images\image-20220611134206380-1697679581283359.png" srcset="/img/loading.gif" lazyload alt="image-20220611134206380"></li>
</ul>
</li>
<li>选择性重传<ul>
<li>接收方分别确认已经收到的分组：必要时，缓冲报文, 最后按序提交给上层</li>
<li>发送者只重发没有收到确认的分组：对每个没有确认的报文发送者都要启动一个定时器(每个未被确认的报文都有一个定时器)</li>
<li>发送窗口<br>N 个连续序号<br>也需要限制已发送但尚未应答分组的序号</li>
<li><img src="E:\typora-user-images\image-20220611134312402-1697679581283360.png" srcset="/img/loading.gif" lazyload alt="image-20220611134312402"></li>
<li><img src="E:\typora-user-images\image-20220611134335283-1697679581283361.png" srcset="/img/loading.gif" lazyload alt="image-20220611134335283"></li>
<li><img src="E:\typora-user-images\image-20220611134347234-1697679581283362.png" srcset="/img/loading.gif" lazyload alt="image-20220611134347234"></li>
</ul>
</li>
</ul>
<h3 id="3-5-面向连接传输：TCP"><a href="#3-5-面向连接传输：TCP" class="headerlink" title="3.5-面向连接传输：TCP"></a>3.5-面向连接传输：TCP</h3><p>点到点：一个发送方，一个接收方</p>
<p>面向连接：<br>在进行数据交换前，初始化发送方与接收方状态，进行握手（交换控制信息）<br>连接状态与端系统有关，不为路由器所知</p>
<p>全双工数据：同一连接上的双向数据</p>
<p>TCP面向流的概念：</p>
<p><img src="E:\typora-user-images\image-20220611134834190-1697679581283363.png" srcset="/img/loading.gif" lazyload alt="image-20220611134834190"></p>
<p><img src="E:\typora-user-images\image-20220611134841760-1697679581283364.png" srcset="/img/loading.gif" lazyload alt="image-20220611134841760"></p>
<h4 id="3-5-1-报文段结构"><a href="#3-5-1-报文段结构" class="headerlink" title="3.5.1-报文段结构"></a>3.5.1-报文段结构</h4><p><img src="E:\typora-user-images\image-20220611135018974-1697679581283365.png" srcset="/img/loading.gif" lazyload alt="image-20220611135018974"></p>
<ul>
<li>源端口和目的端口字段——各占 2 字节。端口是运输层与应用层的服务接口。运输层的复用和分解功能都要通过端口才能实现。</li>
<li>序号字段——占 4 字节。TCP 连接中传送的数据流中的每一个字节都编上一个序号。序号字段的值则指的是本报文段所发送的数据的第一个字节的序号。</li>
<li>确认号字段——占 4 字节，是期望收到对方的下一个报文段的数据<br>的第一个字节的序号。</li>
<li>首部长度（即数据偏移）——占 4 位，指示了以32比特的字为单位的TCP首部长度。也就是说，它指出 TCP 报文段的数据起始处距离 TCP 报文段的起始处有多远。“数据偏移”的单位是 32 位字（以 4 字节为计算单位）</li>
<li>保留字段——占 6 位，保留为今后使用，但目前应置为 0。</li>
<li>紧急 URG —— 当 URG &#x3D; 1 时，表明紧急指针字段有效。它告诉系统此报文段中有紧急数据，应尽快传送(相当于高优先级的数据)。</li>
<li>确认 ACK —— 只有当 ACK &#x3D; 1 时确认号字段才有效。当ACK &#x3D; 0 时，确认号无效。</li>
<li>推送 PSH (PuSH) —— 接收 TCP 收到 PSH &#x3D; 1 的报文段，就尽快地交付接收应用进程，而不再等到整个缓存都填满了后再向上交付。</li>
<li>复位 RST (ReSeT) —— 当 RST &#x3D; 1 时，表明 TCP 连接中出现严重差错（如由于主机崩溃或其他原因），必须释放连接，然后再重新建立运输连接。</li>
<li>同步 SYN —— 同步 SYN &#x3D; 1 表示这是一个连接请求或连接接受报文。</li>
<li>终止 FIN (FINis) —— 用来释放一个连接。FIN &#x3D; 1 表明此报文段的发送端的数据已发送完毕，并要求释放运输连接。</li>
<li>窗口字段 —— 占 2 字节，用来让对方设置发送窗口的依据，单位为字节。用于流量控制，用于指示作为接受方，愿意接受的字节量。</li>
<li>检验和 —— 占 2 字节。检验和字段检验的范围包括首部和数据这两部分。在计算检验和时，要在 TCP 报文段的前面加上 12 字节的伪首部。</li>
<li>紧急指针字段 —— 占 16 位，指出紧急数据最后一个字节的位置，也就是指出在本报文段中，紧急数据共有多少个字节（紧急数据放在本报文段数据的最前面）。</li>
<li>选项字段 —— 长度可变。TCP 最初只规定了一种选项，即最大报文段长度 MSS。MSS告诉对方 TCP：“我的缓存所能接收的报文段的数据字段的最大长度是 MSS 个字节。”</li>
<li>其他选项<ul>
<li>窗口扩大选项 ——占 3 字节，其中有一个字节表示移位值 S。新的窗口值等于TCP 首部中的窗口位数增大到(16 + S)，相当于把窗口值向左移动 S 位后获得实际的窗口大小。</li>
<li>时间戳选项——占10 字节，其中最主要的字段时间戳值字段（4字节）和时间戳回送回答字段（4 字节）。</li>
<li>选择确认选项。</li>
</ul>
</li>
<li>填充字段 —— 这是为了使整个首部长度是 4 字节的整数倍。</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611141049848-1697679581283366.png" srcset="/img/loading.gif" lazyload alt="image-20220611141049848"></p>
<h4 id="3-5-2-TCP-往返时延的估计和超时"><a href="#3-5-2-TCP-往返时延的估计和超时" class="headerlink" title="3.5.2-TCP 往返时延的估计和超时"></a>3.5.2-TCP 往返时延的估计和超时</h4><p>如何设置TCP超时值：</p>
<ul>
<li>应比RTT长，但RTT是变化的<ul>
<li>太短：过早超时，造成不必要的重传</li>
<li>太长：到数据段丢失响应慢</li>
</ul>
</li>
</ul>
<p>如何估计RTT：</p>
<ul>
<li>样本RTT（SampleRTT）: 测量从报文段发送到收到确认的时间<ul>
<li>忽略重传</li>
</ul>
</li>
<li>样本RTT会变化，因此需要一个样本RTT均值（Estimated RTT）<br>-平均最近的测量值,并不仅仅是当前SampleRTT</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611141350502-1697679581283367.png" srcset="/img/loading.gif" lazyload alt="image-20220611141350502"></p>
<p><img src="E:\typora-user-images\image-20220611141458826-1697679581283368.png" srcset="/img/loading.gif" lazyload alt="image-20220611141458826"></p>
<p><img src="E:\typora-user-images\image-20220611141526257-1697679581283369.png" srcset="/img/loading.gif" lazyload alt="image-20220611141526257"></p>
<h4 id="3-5-3-可靠数据传输机制"><a href="#3-5-3-可靠数据传输机制" class="headerlink" title="3.5.3-可靠数据传输机制"></a>3.5.3-可靠数据传输机制</h4><ul>
<li>TCP在IP不可靠服务的基础上创建可靠数据传输服务<ul>
<li>肯定确认和定时器</li>
<li>序号、重传</li>
</ul>
</li>
<li>流水线发送报文段</li>
<li>累计确认</li>
<li>TCP使用单个重传计时器</li>
<li>重传被下列事件触发:<ul>
<li>超时事件</li>
<li>重复ACK</li>
</ul>
</li>
<li>先考虑简化的TCP发送方:<ul>
<li>忽略重复ACK</li>
<li>忽略流量控制，拥塞控制</li>
</ul>
</li>
</ul>
<p>TCP发送方事件：</p>
<ul>
<li>1.从应用程序接受数据：<ul>
<li>根据序号创建一个报文段。</li>
<li>序号是报文段中第一个数据字节在字节流中的位置编号。</li>
<li>如果没有启动定时器，则启动定时器 。<ul>
<li>定时器与最早没有被确认的<br>报文段关联。</li>
<li>设置超时间隔:<br>TimeOutInterval</li>
</ul>
</li>
</ul>
</li>
<li>2.超时：<ul>
<li>重发导致超时的报文段。</li>
<li>重新开始定时器</li>
</ul>
</li>
<li>3.收到确认<ul>
<li>如果确认了还没有确认的报文段<ul>
<li>更新还没有确认的报文段序<br>号。</li>
<li>还有已发送而未被确认的报<br>文段，重新开始定时器。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611142414891-1697679581283370.png" srcset="/img/loading.gif" lazyload alt="image-20220611142414891"></p>
<p><img src="E:\typora-user-images\image-20220611142426854-1697679581283371.png" srcset="/img/loading.gif" lazyload alt="image-20220611142426854"></p>
<p><strong>快速重传：</strong></p>
<ul>
<li>发送方可以在超时之前通过重复的ACK检测丢<br>失报文段<ul>
<li>发送方常常一个接一个地发送很多报文段</li>
<li>如果报文段丢失,则发送方将可能接收到很多重复的 ACKs</li>
</ul>
</li>
<li>如果发送方收到3个对同样报文段的冗余确认，则发送方认为该报文段之后的数据已经丢失。<ul>
<li>启动快速重传: 在定时器超时之前重发丢失<br>的报文段</li>
</ul>
</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611143716544-1697679581283372.png" srcset="/img/loading.gif" lazyload alt="image-20220611143716544"></p>
<p><img src="E:\typora-user-images\image-20220611143754427-1697679581283373.png" srcset="/img/loading.gif" lazyload alt="image-20220611143754427"></p>
<p><img src="E:\typora-user-images\image-20220611145433565-1697679581283374.png" srcset="/img/loading.gif" lazyload alt="image-20220611145433565"></p>
<p><img src="E:\typora-user-images\image-20220611145453955-1697679581283375.png" srcset="/img/loading.gif" lazyload alt="image-20220611145453955"></p>
<p><strong>TCP流量控制：</strong></p>
<p><img src="E:\typora-user-images\image-20220611145812046-1697679581283376.png" srcset="/img/loading.gif" lazyload alt="image-20220611145812046"></p>
<p><img src="E:\typora-user-images\image-20220611145831171-1697679581283378.png" srcset="/img/loading.gif" lazyload alt="image-20220611145831171"></p>
<p><strong>TCP连接管理：</strong></p>
<p>回想: TCP 发送方与接收方在交换报文段前要先建连接</p>
<ul>
<li>初始化 TCP 变量:<br>• 序号<br>• 缓冲区和流控信息 (如RcvWindow)</li>
<li>客户机: 连接的发起方<br>clientSocket.connect((serverName,serverPort));</li>
<li>服务器: 接受客户请求<br>connectionSocket, addr &#x3D; serverSocket.accept();</li>
</ul>
<p>三次握手：</p>
<ul>
<li><p>步骤 1: 客户机向服务器发送 TCP SYN报文段<br>• 指定初始序号<br>• 没有数据</p>
</li>
<li><p>步骤 2: 服务器收到SYN报文段, 用SYNACK报文段回复<br>• 服务器为该连接分配缓冲区和变量<br>• 指定服务器初始序号</p>
</li>
<li><p>步骤 3: 客户机接收到 SYNACK, 分配缓冲，用ACK报文段回复,可能包含数据</p>
<p><img src="E:\typora-user-images\image-20220611150229078-1697679581283377.png" srcset="/img/loading.gif" lazyload alt="image-20220611150229078"></p>
</li>
</ul>
<p>关闭连接：</p>
<ul>
<li>Step 1: 客户发送 TCP FIN 控制报文段到服务器</li>
<li>Step 2: 服务器接收 FIN, 回复 ACK. 半关闭连接, 并发送FIN到客户</li>
<li>Step 3: 客户接收 FIN, 回复 ACK，进入 “timed wait”状态。等待结束时释放连接资源</li>
<li>Step 4: 服务器接收 ACK. 连接关闭.</li>
<li><img src="E:\typora-user-images\image-20220611150435861-1697679581284379.png" srcset="/img/loading.gif" lazyload alt="image-20220611150435861"></li>
</ul>
<h3 id="3-6-拥塞控制原理"><a href="#3-6-拥塞控制原理" class="headerlink" title="3.6-拥塞控制原理"></a>3.6-拥塞控制原理</h3><p>拥塞:</p>
<ul>
<li>从信息角度看: “太多源主机发送太多的数据，速度太快<br>以至于网络来不及处理”</li>
<li>和流量控制不同:<br>丢失分组 (路由器的缓冲区溢出)<br>长延迟 (在路由器的缓冲区排队)</li>
</ul>
<p>两类方法：</p>
<ul>
<li>端到端的拥塞控制<ul>
<li>网路层没有为运算层提供显示的支持。</li>
<li>从端系统根据观察到的时延和丢失现象推断出拥塞</li>
<li>这是TCP所采用的方法</li>
</ul>
</li>
<li>网络辅助的拥塞控制<ul>
<li>路由器为端系统提供反馈<br>• 一个bit指示一条链路出现拥塞(SNA,DECnet)<br>• 指示发送方按照一定速率发送（ATM）<br>• 两种形式</li>
</ul>
</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611152018737-1697679581284382.png" srcset="/img/loading.gif" lazyload alt="image-20220611152018737"></p>
<p><img src="E:\typora-user-images\image-20220611152029168-1697679581284380.png" srcset="/img/loading.gif" lazyload alt="image-20220611152029168"></p>
<h3 id="3-7-TCP拥塞控制"><a href="#3-7-TCP拥塞控制" class="headerlink" title="3.7-TCP拥塞控制"></a>3.7-TCP拥塞控制</h3><ul>
<li><p>1、发送方如何限制其发送速率?</p>
<p><img src="E:\typora-user-images\image-20220611152203196-1697679581284381.png" srcset="/img/loading.gif" lazyload alt="image-20220611152203196"></p>
<p>CongWin：拥塞窗口，RecWin：接受窗口</p>
</li>
<li><p>2、发送方如何感知网络拥塞?</p>
<p><img src="E:\typora-user-images\image-20220611152218305-1697679581284383.png" srcset="/img/loading.gif" lazyload alt="image-20220611152218305"></p>
</li>
<li><p>3、TCP发送方怎样确定它应当发送的速率呢?</p>
<ul>
<li>一个丢失的报文段意味着拥塞，应当降低TCP发送速率。</li>
<li>当收到未确认报文段的确认到达时，能够增加发送方的速率。</li>
<li>带宽探测：每个TCP发送方根据异步于其他发送的本地信息而行动。</li>
</ul>
</li>
</ul>
<p>TCP拥塞控制算法：慢启动、拥塞避免、快速恢复</p>
<ul>
<li>慢启动</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611152626518-1697679581284384.png" srcset="/img/loading.gif" lazyload alt="image-20220611152626518"></p>
<p><img src="E:\typora-user-images\image-20220611152709724-1697679581284385.png" srcset="/img/loading.gif" lazyload alt="image-20220611152709724"></p>
<ul>
<li>对拥塞事件的反应</li>
</ul>
<p><img src="E:\typora-user-images\image-20220611152823055-1697679581284386.png" srcset="/img/loading.gif" lazyload alt="image-20220611152823055"></p>
<p><img src="E:\typora-user-images\image-20220611152946125-1697679581284387.png" srcset="/img/loading.gif" lazyload alt="image-20220611152946125"></p>
<p><img src="E:\typora-user-images\image-20220611153009022-1697679581284388.png" srcset="/img/loading.gif" lazyload alt="image-20220611153009022"></p>
<p>小结：</p>
<p><img src="E:\typora-user-images\image-20220611153105855-1697679581284389.png" srcset="/img/loading.gif" lazyload alt="image-20220611153105855"></p>
<h2 id="第四章-网络层"><a href="#第四章-网络层" class="headerlink" title="第四章 网络层"></a>第四章 网络层</h2><h3 id="4-1-概述"><a href="#4-1-概述" class="headerlink" title="4.1-概述"></a>4.1-概述</h3><p>发送方主机网络层的作用：</p>
<ul>
<li>将来自运输层的每个报文段封装成一个数据报（网络层分组）；</li>
<li>将数据报向目的地发送，即向相邻的路由器R1发送。</li>
</ul>
<p>接收方主机网络层的作用</p>
<ul>
<li>接收来自相邻的路由器R2的数据报；</li>
<li>解封出报文段，并交付给其运输层</li>
</ul>
<p><strong>功能：</strong></p>
<p>将分组从发送主机移动到接受主机</p>
<ul>
<li>转发：将分组从路由器的一个输入链路接口转移到一个合适的输出链路接口的本地动作。<ul>
<li>只涉及分组在路由器中从入链路到出链路的传送。</li>
<li>通常用硬件实现，与路由器的内部结构有关。</li>
</ul>
</li>
<li>选路：指分组从源到目的地的端到端路径的网络范围动作。<ul>
<li>涉及网络中的所有路由器，集体经选路协议交互，决定分组从源到目的地的路径。</li>
<li>通常由软件实现，通过选路算法计算路径。</li>
</ul>
</li>
</ul>
<p>转发表：每台路由器有一张<br>分组首部（目的地址或某个连接标识）和相应输出链路的对照表</p>
<p>路由器根据到达分组的首部值在转发表中查询，找到相应的输出链路接口，并将分组转发出去。</p>
<p><strong>数据平面和控制平面</strong></p>
<p>数据平面：</p>
<ul>
<li>本地的，每个路由器自身的功能</li>
<li>决定抵达路由器输入端口的数据包如何转发到输出端口</li>
</ul>
<p>控制平面：</p>
<ul>
<li><p>整个网络范围</p>
</li>
<li><p>决定数据报在端到端路径上的路由器之间如何路由</p>
</li>
<li><p>两种数据平面的实现方式：<br>•传统的路由算法: 在路由器内实现<br>•软件定义网络（software-defined networking, SDN): 在远程服务器上实现</p>
<p><img src="E:\typora-user-images\image-20220611194812700-1697679581284390.png" srcset="/img/loading.gif" lazyload alt="image-20220611194812700"></p>
</li>
</ul>
<p> 分组交换机：一台通用分组交换设备，根据分组首部值，从输入链路接<br>口到输出链路接口传送分组。<br>链路层交换机：根据链路层字段值作转发决定的分组交换机。<br>路由器：根据网络层字段值作转发决定的分组交换机。</p>
<p><strong>网络层提供的服务</strong></p>
<ul>
<li>网络层可能提供的服务<ul>
<li>确保交付：确保分组到达目的地。</li>
<li>有序分组交付：按发送顺序到达。</li>
<li>具有时延上界的确保交付：主机到主<br>机的时延。</li>
<li>确保最小带宽：当发送主机以低于特定比特率的速率发送比特，分组不会丢失，在一定时延到达。</li>
<li>确保最大时延抖动：发送方发送两个连续分组的时间间隔与接收到的间隔相同。</li>
</ul>
</li>
<li>因特网的网络层提供的服务<ul>
<li>单一服务，即尽力而为服务(best-effort service) 。</li>
<li>分组间的定时不能被保证；</li>
<li>分组的接收顺序与发送顺序不一定相同；</li>
<li>传送的分组不能保证最终交付，即网络可能未向目的地交付分<br>组。</li>
</ul>
</li>
</ul>
<h3 id="4-2-路由器的工作原理"><a href="#4-2-路由器的工作原理" class="headerlink" title="4.2-路由器的工作原理"></a>4.2-路由器的工作原理</h3><h4 id="4-2-1-路由器的整体结构"><a href="#4-2-1-路由器的整体结构" class="headerlink" title="4.2.1-路由器的整体结构"></a>4.2.1-路由器的整体结构</h4><ul>
<li><p>网络转发功能：</p>
<p>将分组从路由器的输入链路传送到适当的输出链路</p>
</li>
<li><p>路由器的体系结构：</p>
<p><img src="E:\typora-user-images\image-20220612130705195-1697679581284391.png" srcset="/img/loading.gif" lazyload alt="image-20220612130705195"></p>
<ul>
<li>输入端口功能：<ul>
<li>第一个线路端接模块：将一条物理链路端接到路由器的物理层；</li>
<li>第二个数据链路处理模块：实现路由器的数据链路层功能；</li>
<li>第三个查找与转发模块：实现查找与转发功能，以便分组通过路由器交换结构转发到适当的输出端口；</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="4-2-2-输入端口-查找-x2F-转发模块"><a href="#4-2-2-输入端口-查找-x2F-转发模块" class="headerlink" title="4.2.2-输入端口-查找&#x2F;转发模块"></a>4.2.2-输入端口-查找&#x2F;转发模块</h4><p>确定将一个到达的分组通过交换结构转发给哪个输出端口。 通过查找<br>转发表实现，这里的转发表是存储在输入端口的内存中。</p>
<p>分散式转发：</p>
<ul>
<li>选路处理器计算转发表，给每个输入端口存放一份转发表拷贝。</li>
<li>在每个输入端口本地做出交换决策，无须激活中央选路处理器。</li>
<li>可避免在路由器中某个单点产生转发处理瓶颈。</li>
</ul>
<p>查表速度：</p>
<ul>
<li>查表：搜索转发表，查找最长匹配的表项，若无相应表项找出默认选路表项。</li>
<li>查找速度：受许多因素影响，如路由器速度、链路速率、查找算法等。</li>
<li>目标：输入端口的处理速度要超过线路速度。<br>即完成一次查找的时间应少于从输入端口接收一个分组所需的时间（对收到的分组的输入处理在下一个接收操作结束之前完成）。</li>
</ul>
<p>查找方法：</p>
<ul>
<li><p>线性查找：按顺序找。对庞大的转发表不合适。</p>
</li>
<li><p>二分查找：将转发表表项存放在一个树形数据结构中。树的每一层对应目的地址的一个比特，查找某个地址时，从树的根节点开始，依次查地址的每一位。</p>
<p><img src="E:\typora-user-images\image-20220612131659593-1697679581284392.png" srcset="/img/loading.gif" lazyload alt="image-20220612131659593"></p>
</li>
<li><p>三态内容可寻址内存(TCAM)：是一种特殊的存储阵列。它具有将输入数据与TCAM中存储的所有数据项同时进行比较,迅速判断输入数据是否与TCAM中存储的数据项相匹配,并给出数据项对应地址和匹配信息的特点。将一个32bit IP地址提交给CAM，由它以常数时间返回该地址对应的转发表表项内容。如，MOTOROLA公司的TCAM芯片——MCM69C233。</p>
</li>
<li><p>将最近被访问的表项保存在高速缓存(cache)中：</p>
</li>
</ul>
<p>输入端口问题：</p>
<ul>
<li>分组阻塞：来自其他输入端口的分组当前正在使用交换结构。被阻塞的分组必须在输入端口处排队，等待以后调度通过交换结构。除查找这个最基本的动作外，在输入端口还必须采取其他动作：<ul>
<li>必须实现物理层和链路层处理。</li>
<li>必须检查分组的版本号、检验和以及TTL字段。</li>
<li>必须更新用于网络的管理的计数器。</li>
</ul>
</li>
</ul>
<p>交换结构：</p>
<p>将分组从输入端口缓存交换（转发到恰当的输出端口缓存中）</p>
<p>三种类型的交换结构：内存、总线、纵横式<br><img src="E:\typora-user-images\image-20220612132131795-1697679581284393.png" srcset="/img/loading.gif" lazyload alt="image-20220612132131795"></p>
<ul>
<li><p>经内存的交换结构：</p>
<ul>
<li>早期用计算机作为路由器时采用的结构(第一代)</li>
<li>输入端口与输出端口之间的交换由CPU(选路处理器)控制完成；</li>
<li>输入端口与输出端口类似I&#x2F;O设备：<ul>
<li>当分组到达输入端口时，通过中断向选路处理器发出信号，将分组拷贝到处理器内存中；</li>
<li>选路处理器根据分组中的目的地址查表找出适当的输出端口，将该分组拷贝到输出端口的缓存中。</li>
</ul>
</li>
<li>交换速度收总线带宽的速度限制（每个分组穿过两次总线）</li>
<li>若总线带宽为每秒写入或读出B个分组，则总的转发吞吐量 (分组从输入端口被传送到输出端口的总速率)小于B&#x2F;2。<br><img src="E:\typora-user-images\image-20220612133653911-1697679581284394.png" srcset="/img/loading.gif" lazyload alt="image-20220612133653911"></li>
</ul>
</li>
<li><p>经总线的交换结构：输入端口通过一条共享总线将分组直接传送到输出端口，不需要选路处理器的干预。</p>
<ul>
<li>每次只能有一个分组通过总线传送。</li>
<li>分组到达一个输入端口时，若总线正忙，会被暂时阻塞，在输入端口排队</li>
<li>路由器交换带宽受总线速率限制。</li>
</ul>
</li>
<li><p>经交换矩阵交换（经互联网络交换）结构：</p>
<ul>
<li>纵横式交换机：由2n 条总线组成，n 个输入端口与n 个输出端口连接。</li>
<li>到达输入端口的分组沿水平总线穿行，直至与所希望的输出端口的垂直总线交叉点：<ul>
<li>若该条垂直总线空闲，则分组被传送到输出端口；</li>
<li>否则，该到达的分组被阻塞，必须在输入端口排队。</li>
</ul>
</li>
<li><img src="E:\typora-user-images\image-20220612133938495-1697679581284395.png" srcset="/img/loading.gif" lazyload alt="image-20220612133938495"></li>
</ul>
</li>
</ul>
<h4 id="4-2-3-输出端口"><a href="#4-2-3-输出端口" class="headerlink" title="4.2.3-输出端口"></a>4.2.3-输出端口</h4><p>取出存放在输出端口内存中的分组，并将其传输到输出链路上<br>当交换结构将分组交付给输出端口的速率超过输出链路速率，就需要排队与缓存管理功能。当输出端口的缓冲区溢出时，就会出现延时和丢包。</p>
<ul>
<li><p>输入端口不排队</p>
<ul>
<li>若交换结构的速率至少是输入线路速率的n倍，在输入端口处不会出现排队。</li>
<li>最坏情况：有n条输入线路同时接收分组。<br>交换结构可以在每个输入端口(同时)接收一个分组的时间内将n个分组从输入端口传送到输出端口。</li>
</ul>
</li>
<li><p>输入端口分组排队</p>
<ul>
<li>交换结构比输入端口总和的速度慢 →输入队列产生排队</li>
<li>交换结构不够快，即相对于输入线路速度不能快得使所有到达的分组无延迟地通过它传送，则在输入端口出现分组排队，等待通过交换结构传送到输出端口。</li>
</ul>
</li>
<li><p>如果采用纵横式交换结构：<br>所有链路速度相同；<br>交换结构速率与输入链路速率相同：分组从输入端口传送到给定输出端口的时间与从输入链路接收一个分组的时间相同；<br>分组按FCFS方式从输入队列移动到输出队列中。<br>结果：</p>
<ul>
<li>分组输出端口不同：多个分组可以被并行传送。</li>
<li>发往相同输出端口：不同输入队列中的分组发往同一输出队列，其中的一些分组被阻塞，在输入队列中等待（交换结构一次传一个分组到端口）。</li>
</ul>
<p><img src="E:\typora-user-images\image-20220612134829770-1697679581284396.png" srcset="/img/loading.gif" lazyload alt="image-20220612134829770"></p>
</li>
<li><p>输出端口排队<br>设交换结构的速率至少是线路速率的n倍</p>
<ul>
<li>最坏情况：到达每个输入端口的分组都被发往同一个输出端口。<ul>
<li>在一个单位时间（接收或发送一个分组）内，将有n个分组到达该输出端口，排队(等待)发送到输出链路上；</li>
<li>在发出队列中一个分组的时间内，又有n个分组到达。依此类推，最终排队的分组快速增长，很快占满输出端口的存储空间，使后续分组被丢弃。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>分组丢弃方法：</p>
<p>若缓存已满，丢弃分组。<br>丢弃后到的分组（弃尾）；<br>删除一个或多个已排队的分组；<br>    主动队列管理AQM算法：在缓存填满前丢弃分组或首部加标记，向发送方提供拥塞信号。<br>    如，随机早期检测RED算法： 输出队列长度维护一个加权平均值</p>
<ul>
<li>随机早期检测RED算法<br>设最小阈值minth和最大阈值maxth<ul>
<li>平均队列长度小于最小阈值minth，到达分组被纳入队列；</li>
<li>队列满或平均队列长度大于最大阈值maxth ，到达分组被标记或丢弃；</li>
<li>平均队列长度在[minth， maxth]之间，到达分组以某种概率被标记或丢弃</li>
</ul>
</li>
</ul>
<p>分组调度程序：</p>
<p>在输出端口排队的分组选出一个发送。</p>
<p>原则：<br>先来先服务FCFS、优先权排队、加权公平排队WFQ（在具有排队分组的不同端到端连接之间公平地共享输出链路。）</p>
<ul>
<li>先来先服务FCFS<ul>
<li>按到达的顺序发送分组；</li>
<li>如果分组到达时，没有足够的缓存空间，该如何丢弃分组？<ul>
<li>尾弃</li>
<li>基于优先级删除</li>
<li>随机删除</li>
</ul>
</li>
<li><img src="E:\typora-user-images\image-20220612143301422-1697679581284397.png" srcset="/img/loading.gif" lazyload alt="image-20220612143301422"></li>
</ul>
</li>
<li>优先权排队<ul>
<li>输出队列分类为多个具有不同优先级队列；</li>
<li>根据到达分组的类型，引导到不同优先级的队列中。</li>
<li>优先发送具有最高优先级队列中的分组；</li>
<li><img src="E:\typora-user-images\image-20220612143348750-1697679581284398.png" srcset="/img/loading.gif" lazyload alt="image-20220612143348750"></li>
</ul>
</li>
<li>循环和加权公平队列<ul>
<li>循环队列规则：<ul>
<li>输出队列按类分为多个队列，不同类之间没有严格的服务优先权区分。</li>
<li>根据到达分组的类型，引导到不类别的队列中。</li>
<li>循环调度器在这些不同类所对应的队列中轮流提供服务。</li>
<li><img src="E:\typora-user-images\image-20220612143529279-1697679581284399.png" srcset="/img/loading.gif" lazyload alt="image-20220612143529279"></li>
</ul>
</li>
<li>加权公平排队：<ul>
<li>WFQ也循环为各个不同类的队列提供服务；</li>
<li>但是不同类的队列，在每个循环周期中，所获得的服务量并不平等，而是由其权值决定。</li>
<li><img src="E:\typora-user-images\image-20220612143554735-1697679581284400.png" srcset="/img/loading.gif" lazyload alt="image-20220612143554735"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-3-网际协议：因特网中的转发和编址"><a href="#4-3-网际协议：因特网中的转发和编址" class="headerlink" title="4.3-网际协议：因特网中的转发和编址"></a>4.3-网际协议：因特网中的转发和编址</h3><h4 id="4-3-1-IP数据报格式"><a href="#4-3-1-IP数据报格式" class="headerlink" title="4.3.1-IP数据报格式"></a>4.3.1-IP数据报格式</h4><p><img src="E:\typora-user-images\image-20220612144451929-1697679581284401.png" srcset="/img/loading.gif" lazyload alt="image-20220612144451929"></p>
<p>一个 IP 数据报由首部和数据两部分组成。<br>首部的前一部分是固定长度，共 20 字节，是所有 IP 数据报必须具有的。<br>在首部的固定部分的后面是一些可选字段，其长度是可变的。</p>
<p><img src="E:\typora-user-images\image-20220612150532540-1697679581284402.png" srcset="/img/loading.gif" lazyload alt="image-20220612150532540"></p>
<ul>
<li>版本——占 4 位，指 IP 协议的版本目前的 IP 协议版本号为 4 (即 IPv4)</li>
<li>首部长度——占 4 位，可表示的最大数值是 15 个单位(一个单位为 4 字节)因此 IP 的首部长度的最大值是 60 字节。</li>
<li>区分服务——占 8 位，用来获得更好的服务在旧标准中叫做服务类型，但实际上一直未被使用过。1998 年这个字段改名为区分服务。只有在使用区分服务（DiffServ）时，这个字段才起作用。在一般的情况下都不使用这个字段区分服务</li>
<li>总长度——占 16 位，指首部和数据之和的长度，单位为字节，因此数据报的最大长度为 65535 字节。总长度必须不超过最大传送单元 MTU。</li>
<li>标识(identification) 占 16 位，它是一个计数器，用来产生数据报的标识</li>
<li>标志(flag) 占 3 位，目前只有前两位有意义。标志字段的最低位是 MF (More Fragment)。MF &#x3D; 1 表示后面“还有分片”。MF &#x3D; 0 表示最后一个分片。标志字段中间的一位是 DF (Don’t Fragment) 。只有当 DF &#x3D; 0 时才允许分片。</li>
<li>片偏移(12 位)指出：较长的分组在分片后某片在原分组中的相对位置。片偏移以 8 个字节为偏移单位。</li>
<li>生存时间(8 位)记为 TTL (Time To Live)数据报在网络中可通过的路由器数的最大值</li>
<li>协议(8 位)字段指出此数据报携带的数据用于何种协议,以便目的主机的 IP 层将数据部分上交给哪个处理过程<ul>
<li><img src="E:\typora-user-images\image-20220612150948397-1697679581284403.png" srcset="/img/loading.gif" lazyload alt="image-20220612150948397"></li>
</ul>
</li>
<li>首部检验和(16 位)字段只检验数据报的首部不检验数据部分。这里不采用 CRC 检验码而采用简单的计算方法。</li>
<li>源地址和目的地址都各占 4 字节</li>
<li>IP 数据报首部的可变部分<ul>
<li>IP 首部的可变部分就是一个选项字段，用来支持排错、测量以及安全等措施，内容很丰富。</li>
<li>选项字段的长度可变，从 1 个字节到 40 个字节不等，取决于所选择的项目。</li>
<li>增加首部的可变部分是为了增加 IP 数据报的功能，但这同时也使得 IP 数据报的首部长度成为可变的。这就增加了每一个路由器处理数据报的开销。</li>
<li>实际上这些选项很少被使用</li>
</ul>
</li>
</ul>
<h4 id="4-3-2-IP数据报分片和重组"><a href="#4-3-2-IP数据报分片和重组" class="headerlink" title="4.3.2-IP数据报分片和重组"></a>4.3.2-IP数据报分片和重组</h4><p>每个数据链路有自己的MTU，链路类型不同，MTU的值也不同，这里MTU指的是数据链路帧的数据区的最大字节数。<br>在因特网中，一个大的分组可能在路由器中被分割为几个分片，在最终的目的主机上，将这些分片重新组装成一个大的分组。<br>为了进一步识别出这些分组，需要对分片进行标识。</p>
<p><img src="E:\typora-user-images\image-20220612151306382-1697679581284404.png" srcset="/img/loading.gif" lazyload alt="image-20220612151306382"></p>
<p><img src="E:\typora-user-images\image-20220612151443525-1697679581284405.png" srcset="/img/loading.gif" lazyload alt="image-20220612151443525"></p>
<p>分片的问题：</p>
<ul>
<li>分片是有开销的。</li>
<li>使路由器和端系统更为复杂。</li>
<li>分片能够被用于生产致命的DoS攻击。</li>
</ul>
<h4 id="4-3-3-IP地址"><a href="#4-3-3-IP地址" class="headerlink" title="4.3.3-IP地址"></a>4.3.3-IP地址</h4><p>IP 地址: 分配给主机或路由器接口的标识符<br>接口: 主机&#x2F;路由器与物理链路之间的边界</p>
<ul>
<li>路由器有多个接口</li>
<li>主机可以有多个接口</li>
<li>每个接口有一个IP地址</li>
</ul>
<p>IP地址有两种：IPV4和IPV6</p>
<ul>
<li>IPV4：32个二进制位长（4字节），常用点分十进制表示；</li>
<li>IPV6：128个二进制位长（16字节）常用冒号分隔表示</li>
</ul>
<p><strong>IPv4编址</strong></p>
<p><img src="E:\typora-user-images\image-20220612151803974-1697679581284406.png" srcset="/img/loading.gif" lazyload alt="image-20220612151803974"></p>
<p>IP地址结构：</p>
<p><img src="E:\typora-user-images\image-20220612151856510-1697679581284407.png" srcset="/img/loading.gif" lazyload alt="image-20220612151856510"></p>
<ul>
<li><img src="E:\typora-user-images\image-20220612152245756-1697679581284408.png" srcset="/img/loading.gif" lazyload alt="image-20220612152245756"></li>
<li>A类地址<ul>
<li>A类IP地址的网络号长度为8位，主机号长度为24位；</li>
<li>A类地址是从：1.0.0.1～127.255.255.254；</li>
<li>网络号可变长度为7位，从理论上可以有27&#x3D;128个网络；</li>
<li>网络号为全0和全1（用十进制表示为0与127）的两个地址保留用于特殊目<br>的，实际允许有126个不同的A类网络；</li>
<li>由于主机号长度为24位，因此每个A类网络的主机IP数理论上为224&#x3D;16777216；</li>
<li>主机IP为全0和全1的两个地址保留用于特殊目的，每个网段实际允许连接16777214个主机；</li>
<li>A类IP地址结构适用于有大量主机的大型网络</li>
</ul>
</li>
<li>B类地址<ul>
<li>B类IP地址的网络号长度为16位，主机号长度为16位；</li>
<li>B类IP地址是从：128.0.0.1～191.255.255.254；</li>
<li>由于网络IP可变长度为14位，因此理论允许有214&#x3D;16384个不同的B类网络；</li>
<li>由于主机IP长度为16位，因此理论上每个B类网络可以有216&#x3D;65536个主机或路由器，实际一个B类IP地址允许连接65534个主机或路由器；</li>
<li>B类IP地址适用于一些国际性大公司与政府机构等中等大小的组织使用。</li>
</ul>
</li>
<li>C类地址<ul>
<li>C类IP地址的网络号长度为24位，主机号长度为8位；</li>
<li>C类IP地址是从：192.0.0.1～223.255.255.254；</li>
<li>网络号可变长度为21位，因此理论允许有221&#x3D;2097152个不同的C类网络；</li>
<li>主机号长度为8位，理论上每个C类网络的主机地址数最多为28&#x3D;256个，实际允许连接254个主机或路由器；</li>
<li>C类IP地址适用于一些小公司与普通的研究机构。</li>
</ul>
</li>
<li>D类地址和E类地址	<ul>
<li>D类IP地址不标识网络;<br>地址范围：224.0.0.0～239.255.255.255<br>用于其他特殊的用途，如多播地址Multicasting；</li>
<li>E类IP地址暂时保留；<br>地址范围：240.0.0.0～255.255.255.255；<br>用于某些实验和将来使用。</li>
</ul>
</li>
</ul>
<p>特殊IP地址段：</p>
<p><img src="E:\typora-user-images\image-20220612152432339-1697679581284409.png" srcset="/img/loading.gif" lazyload alt="image-20220612152432339"></p>
<p><img src="E:\typora-user-images\image-20220612152446573-1697679581284412.png" srcset="/img/loading.gif" lazyload alt="image-20220612152446573"></p>
<p><img src="E:\typora-user-images\image-20220612152517660-1697679581284410.png" srcset="/img/loading.gif" lazyload alt="image-20220612152517660"></p>
<p><strong>互联网中的IP地址</strong></p>
<ul>
<li>同一局域网上的主机或路由器的IP地址中的网络号必须相同。用IP术语来说，具有相同网络号的局域网，称为子网。 （ 在因特网文献中 ， 子网也称为 1P 网络或直接称为网络 。 ）</li>
<li>交换机互连的网络仍然是一个局域网，只能有一个网络号。</li>
<li>路由器总是具有两个或两个以上IP地址。</li>
<li>当两个路由器直接相连时，在连线两端的接口处，可以指明<br>IP地址也可以不指明IP地址。</li>
</ul>
<p>子网的特点：</p>
<ul>
<li>设备接口的IP地址具有同样的网络部分</li>
<li>没有路由器的介入，物理上能够相互到达</li>
</ul>
<p><strong>无类别域间路由CIDR</strong></p>
<p>传统IP分类方法的问题：<br>⚫一个A类的IP地址，可以有24bit用于分配主机地址，因此可以<br>支持2^24个主机，但是一个家庭或者组织往往不需要这么多的地<br>址空间，造成浪费。<br>⚫ 一个C类的IP地址，只有8bit用于分配主机地址，因此只能支持<br>256个主机，又不太够用。<br>⚫ 因此，按传统IP地址分类方式分配IP被CIDR技术取代</p>
<p>CIDR：</p>
<p>⚫CIDR消除了传统的A类、B类和C类地址的概念。<br>⚫使用斜线记法，又称为CIDR记法来区分网络前缀和主机号，即在IP地址后面加上一个斜线“&#x2F;”，斜线后面用一个数字指定网络前缀的长度。地址格式: a.b.c.d&#x2F;x, 这里 x 是地址网络部分的bit数<br>⚫CIDR将网络前缀都相同的连续的IP地址组成“CIDR地址块”。</p>
<p><img src="E:\typora-user-images\image-20220612153139434-1697679581284411.png" srcset="/img/loading.gif" lazyload alt="image-20220612153139434"></p>
<p>子网掩码：</p>
<p><img src="E:\typora-user-images\image-20220612153230356-1697679581284413.png" srcset="/img/loading.gif" lazyload alt="image-20220612153230356"></p>
<p>子网划分总结：</p>
<ul>
<li>对于子网划分，建议先把主机数量最多的子网划分了，再划分主机数量较小的子网。</li>
<li>对于子网划分，一个子网能使用的IP的范围，其起始IP一定是奇数、其截止的IP一定是一个偶数。</li>
<li>两个主机号相邻的子网，小序号子网的截止IP和大序号子网的起始IP，中间的差值为3，比如上题的223.1.17.65–126和223.1.17.129-254。126和129之间的差值为3，因为其间间隔了两个主机号为全1和全0的IP。</li>
<li>对于网络号的表示，用于主机的所有bit都要为0，比如： 223.1.17.128&#x2F;25的后面7bit全为0（对应128）、 223.1.17.64&#x2F;26的后面6bit全为0（对应64） 。<br>1000 0000&#x3D;128 1100 0000&#x3D;192 1110 0000&#x3D;224<br>1111 0000&#x3D;240 1111 1000&#x3D;248 1111 1100&#x3D;252<br>1111 1110&#x3D;254</li>
</ul>
<p><strong>IP地址的获取</strong></p>
<ul>
<li><p>手工指定（保存在系统配置中）</p>
<ul>
<li>Windows: 控制面板-&gt;网络</li>
<li>UNIX&#x2F;LINUX: 在&#x2F;etc&#x2F;rc.config中，可使用ifconfig命令配置</li>
</ul>
</li>
<li><p>DHCP: Dynamic Host Configuration Protocol</p>
<ul>
<li>自动从一个DHCP服务器得到IP地址</li>
<li>方便灵活</li>
</ul>
<p><img src="E:\typora-user-images\image-20220612161350930-1697679581284414.png" srcset="/img/loading.gif" lazyload alt="image-20220612161350930"></p>
</li>
</ul>
<p><img src="E:\typora-user-images\image-20220612161421307-1697679581284415.png" srcset="/img/loading.gif" lazyload alt="image-20220612161421307"></p>
<p>DHCP协议的工作过程：</p>
<ul>
<li><img src="E:\typora-user-images\image-20220612161603765-1697679581284416.png" srcset="/img/loading.gif" lazyload alt="image-20220612161603765"></li>
<li><img src="E:\typora-user-images\image-20220612161630823-1697679581285417.png" srcset="/img/loading.gif" lazyload alt="image-20220612161630823"></li>
<li><img src="E:\typora-user-images\image-20220612161646825-1697679581285418.png" srcset="/img/loading.gif" lazyload alt="image-20220612161646825"></li>
<li><img src="E:\typora-user-images\image-20220612161705678-1697679581285419.png" srcset="/img/loading.gif" lazyload alt="image-20220612161705678"></li>
<li><img src="E:\typora-user-images\image-20220612161723184-1697679581285420.png" srcset="/img/loading.gif" lazyload alt="image-20220612161723184"></li>
<li></li>
</ul>
<p><img src="E:\typora-user-images\image-20220612161733689-1697679581285421.png" srcset="/img/loading.gif" lazyload alt="image-20220612161733689"></p>
<ul>
<li><p><img src="E:\typora-user-images\image-20220612161755397-1697679581285422.png" srcset="/img/loading.gif" lazyload alt="image-20220612161755397"></p>
</li>
<li><p><img src="E:\typora-user-images\image-20220612161845330-1697679581285423.png" srcset="/img/loading.gif" lazyload alt="image-20220612161845330"></p>
</li>
<li><p><img src="E:\typora-user-images\image-20220612161921001-1697679581285424.png" srcset="/img/loading.gif" lazyload alt="image-20220612161921001"></p>
</li>
<li><p><img src="E:\typora-user-images\image-20220612161950925-1697679581285425.png" srcset="/img/loading.gif" lazyload alt="image-20220612161950925"></p>
</li>
<li><p><img src="E:\typora-user-images\image-20220612162005809-1697679581285426.png" srcset="/img/loading.gif" lazyload alt="image-20220612162005809"></p>
</li>
</ul>
<p>DHCP中继代理：</p>
<ul>
<li>并不是每个网络上都有 DHCP 服务器，这样会使 DHCP 服务器的数量太多。现在是每一个网络至少有一个 DHCP 中继代理(通常是一台路由器)，它配置了 DHCP 服务器的 IP 地址信息。</li>
<li>当 DHCP 中继代理收到主机发送的发现报文后，就以单播方式向DHCP 服务器转发此报文，并等待其回答。收到 DHCP 服务器回答的提供报文后，DHCP 中继代理再将此提供报文发回给主机。</li>
</ul>
<h4 id="4-3-4-NAT网络地址转换"><a href="#4-3-4-NAT网络地址转换" class="headerlink" title="4.3.4-NAT网络地址转换"></a>4.3.4-NAT网络地址转换</h4><p>动机: 对外部网络来讲，本地网络只用一个IP地址<br>• 不需要从 ISP分配一系列地址—— 只要一个IP地址用于所有设备<br>• 在本地网络，改变设备的IP地址不用通知外部世界<br>• 可以变更 ISP ，不用改变本地网络的设备的地址<br>• 本地网络内部设备不能被外部世界明确寻址，或是不可见 (增加了安全性)</p>
<p><img src="E:\typora-user-images\image-20220612162541615-1697679581285427.png" srcset="/img/loading.gif" lazyload alt="image-20220612162541615"></p>
<p>执行NAT，路由器必须做到：</p>
<ul>
<li>外出的分组: 替换每个外出的分组的 (源IP 地址, 端口号) 为 (NAT<br>IP 地址, 新端口号)<br>远程客户&#x2F;服务器用(NAT IP地址, 新端口号)作为目的地来响应。</li>
<li>在NAT转换表中，记录了每个(源IP 地址, 端口号)到 (NAT IP地<br>址, 新端口号) 的对应关系。</li>
<li>进来的分组: 对每个进来的分组，用保存在NAT表中的对应的(源<br>IP 地址, 端口号) 替换分组中的目的域 (NAT IP 地址, 新端口号）</li>
</ul>
<p>限制：</p>
<p><img src="E:\typora-user-images\image-20220612162907791-1697679581285428.png" srcset="/img/loading.gif" lazyload alt="image-20220612162907791"></p>
<p><strong>ICMP因特网控制报文协议</strong></p>
<p>⚫用于主机路由器之间彼此交流网络层信息<br>        •差错报告: 不可到达的主机, 网络,端口,协议<br>        •请求&#x2F;应答 (用于ping,traceroute)<br>⚫ 位于IP之上<br>        •因为ICMP消息是装载在IP分组里的</p>
<p><img src="E:\typora-user-images\image-20220612163843092-1697679581285430.png" srcset="/img/loading.gif" lazyload alt="image-20220612163843092"></p>
<p><img src="E:\typora-user-images\image-20220612164146711-1697679581285429.png" srcset="/img/loading.gif" lazyload alt="image-20220612164146711"></p>
<p><img src="E:\typora-user-images\image-20220612164157622-1697679581285431.png" srcset="/img/loading.gif" lazyload alt="image-20220612164157622"></p>
<h4 id="4-3-5-IPv6"><a href="#4-3-5-IPv6" class="headerlink" title="4.3.5-IPv6"></a>4.3.5-IPv6</h4><p> 初始动机: 32-bit 地址空间即将用尽。<br>其他动机:</p>
<ul>
<li>首部格式可帮助加速处理&#x2F;转发</li>
<li>改变首部利于QoS要求</li>
</ul>
<p>首部格式改变:</p>
<ul>
<li>IPv6 数据报:扩大的地址容量</li>
<li>简化高效的 40 字节首部</li>
<li>流标签</li>
</ul>
<p><strong>IPv6首部：</strong></p>
<p>流量类型:表示流中分组的优先级,类似IPv4中的TOS字段，可用于给出给出一个流中某些数据的优先级。<br>流标签: 表示分组在同一个 “流”中 (“流”的概念尚未完全定义).<br>下一个首部: 表示数据的上层协议，类似IPv4中的协议字段。</p>
<p><img src="E:\typora-user-images\image-20220612164425620-1697679581285432.png" srcset="/img/loading.gif" lazyload alt="image-20220612164425620"></p>
<p><strong>IPv6对址表示：</strong></p>
<p><img src="E:\typora-user-images\image-20220612164636126-1697679581285435.png" srcset="/img/loading.gif" lazyload alt="image-20220612164636126"></p>
<p>地址分类：</p>
<ul>
<li>单播地址：一个单播地址对应一个接口，发往单播地址的数据包会被对应的接口接收。</li>
<li>多播(组播)地址：一个组播地址对应一组接口，发往组播地址的数据包会被这组的所有接口接收；目的地为多个主机的数据包在特殊的多播地址上发送。 所有对该组播信息感兴趣的主机需要首先加入该组播组。 加入组的所有接口接收组播数据包并对其进行处理，而对组播数据不感兴趣的其他主机则忽略组播信息。</li>
<li>任播地址：一个任播地址对应一组接口，发往任播地址的数据包会被这组接口的其中一个接收，被哪个接口接收由具体的路由协议确定；（IPv6不使用广播地址，广播地址的功能由多播地址代替。）</li>
</ul>
<p><img src="E:\typora-user-images\image-20220612165132665-1697679581285433.png" srcset="/img/loading.gif" lazyload alt="image-20220612165132665"></p>
<p><img src="E:\typora-user-images\image-20220612165147663-1697679581285434.png" srcset="/img/loading.gif" lazyload alt="image-20220612165147663"></p>
<p>IPv4到IPv6的过渡：</p>
<ul>
<li><p>并不是所有的路由器都能够同时升级</p>
<ul>
<li>没有 “标志日”</li>
<li>同时有 IPv4 和 IPv6 路由器的网络如何工作?</li>
</ul>
</li>
<li><p>两种推荐方法:</p>
<ul>
<li><p>双栈：一些路由器具有双重栈 (v6, v4) 能够在两种格式中转换</p>
<p><img src="E:\typora-user-images\image-20220612165259366-1697679581285436.png" srcset="/img/loading.gif" lazyload alt="image-20220612165259366"></p>
</li>
<li><p>隧道: 在穿过IPv4路由器时，IPv6分组作为 IPv4分组的负载</p>
<p><img src="E:\typora-user-images\image-20220612165320156-1697679581285437.png" srcset="/img/loading.gif" lazyload alt="image-20220612165320156"></p>
</li>
</ul>
</li>
</ul>
<h3 id="4-4-路由和选路算法"><a href="#4-4-路由和选路算法" class="headerlink" title="4.4-路由和选路算法"></a>4.4-路由和选路算法</h3><h4 id="4-4-1-选路算法"><a href="#4-4-1-选路算法" class="headerlink" title="4.4.1-选路算法"></a>4.4.1-选路算法</h4><p>默认路由器：与主机直接相连的路由器，又叫第一跳路由器。每当主机发送一个分组时，都先传送给它的默认路由器。</p>
<ul>
<li>源路由器：源主机的默认路由器。</li>
<li>目的路由器：目的主机的默认路由器。</li>
<li>从源主机到目的主机的选路归结为从源路由器到目的路由器的选路。</li>
</ul>
<p>路由算法：是确定一个分组从源路由器到目的路由器所经路径的算法</p>
<p>路由算法的关键：在给定的一组路由器以及连接路由器的链路中，找到一条从源路由器到目的路由器的“好”路径。</p>
<p>路由算法分类：</p>
<ul>
<li><p>1</p>
<ul>
<li><p>全局选路算法</p>
<p><img src="E:\typora-user-images\image-20220612165809838-1697679581285438.png" srcset="/img/loading.gif" lazyload alt="image-20220612165809838"></p>
</li>
<li><p>分散式选路算法</p>
<p><img src="E:\typora-user-images\image-20220612165825979-1697679581285439.png" srcset="/img/loading.gif" lazyload alt="image-20220612165825979"></p>
</li>
</ul>
</li>
<li><p>2</p>
<ul>
<li>静态选路算法：路由确定后基本不再变化。当人工干预调整时，可能有一些变化。</li>
<li>动态选路算法：当网络的流量负载或拓扑发生变化时，改变路径。可以周期性地或直接地响应拓扑或链路费用的变化。易受选路循环、路由振荡之类问题的影响。</li>
</ul>
</li>
<li><p>3</p>
<ul>
<li>负载敏感算法：链路费用会动态地变化，反映出底层链路的当前拥塞水平。如果当前拥塞的一条链路被赋以高费用，则选路算法应绕开该拥塞链路来选择路由。如早期的ARPAnet选路算法。</li>
<li>负载迟钝算法：某条链路的费用一般不反映其当前的(或最近的)拥塞级别。如因特网的选路算法。</li>
</ul>
</li>
</ul>
<h4 id="4-4-2-链路状态选路算法LS"><a href="#4-4-2-链路状态选路算法LS" class="headerlink" title="4.4.2-链路状态选路算法LS"></a>4.4.2-<strong>链路状态选路算法</strong>LS</h4><p>一种全局选路算法</p>
<p>前提条件：已知网络拓扑和所有链路的费用，作为算法的输入。</p>
<p>获取方法：每个节点向网络中广播链路状态分组（含有它所连接的链路的费用）。<br>        由链路状态广播算法实现。最终使所有节点都有一个相同且完整的网络视图。</p>
<p>每个节点都可以运行链路状态算法并计算出最低费用路径集。</p>
<p>计算从某节点（源节点，如u）到网络中所有其他节点的最低费用路径。</p>
<p>是一种迭代算法，即：<br>        经第k次迭代后，可知道到k个目的节点的最低费用路径。</p>
<p>基本思想：<br>        以源节点为起点，每次找出一个到源节点的费用最低的节点，直到把所有的目的节点都找到为止</p>
<p><strong>术语定义：</strong></p>
<p>c(x,y)：表示从节点x到y的链路费用;	&#x3D; ∞ 如果不是直接邻居<br>D(v)：表示从源节点到目的节点v的当前路径的费用；<br>p(v)：表示从源节点到目的节点v的路径上的前驱节点(例如w是v的前驱<br>节点)；<br>N’：表示已经找到最低费用路径的节点集合。</p>
<p><img src="E:\typora-user-images\image-20220612171029381-1697679581285440.png" srcset="/img/loading.gif" lazyload alt="image-20220612171029381"></p>
<p><img src="E:\typora-user-images\image-20220612171345554-1697679581285441.png" srcset="/img/loading.gif" lazyload alt="image-20220612171345554"></p>
<p><img src="E:\typora-user-images\image-20220612171357267-1697679581285442.png" srcset="/img/loading.gif" lazyload alt="image-20220612171357267"></p>
<p><strong>算法描述：</strong></p>
<p><img src="E:\typora-user-images\image-20220612171738236-1697679581285443.png" srcset="/img/loading.gif" lazyload alt="image-20220612171738236"></p>
<p><img src="E:\typora-user-images\image-20220612171751812-1697679581285444.png" srcset="/img/loading.gif" lazyload alt="image-20220612171751812"></p>
<p>例子：</p>
<p><img src="E:\typora-user-images\image-20220612171910298-1697679581285445.png" srcset="/img/loading.gif" lazyload alt="image-20220612171910298"></p>
<p>构建从源节点到所有节点的路径：</p>
<p><img src="E:\typora-user-images\image-20220612172333742-1697679581285446.png" srcset="/img/loading.gif" lazyload alt="image-20220612172333742"></p>
<p>构建最低费用路径树：</p>
<p><img src="E:\typora-user-images\image-20220612172400158-1697679581285447.png" srcset="/img/loading.gif" lazyload alt="image-20220612172400158"></p>
<p>构建转发表：</p>
<p><img src="E:\typora-user-images\image-20220612172418115-1697679581285448.png" srcset="/img/loading.gif" lazyload alt="image-20220612172418115"></p>
<p>注意事项：</p>
<p><img src="E:\typora-user-images\image-20220612172448926-1697679581286449.png" srcset="/img/loading.gif" lazyload alt="image-20220612172448926"></p>
<p>讨论：</p>
<ul>
<li><p>计算复杂度：</p>
<p><img src="E:\typora-user-images\image-20220612172640702-1697679581286450.png" srcset="/img/loading.gif" lazyload alt="image-20220612172640702"></p>
</li>
<li><p>可能产生振荡：</p>
<p><img src="E:\typora-user-images\image-20220612172711518-1697679581286451.png" srcset="/img/loading.gif" lazyload alt="image-20220612172711518"></p>
<p><img src="E:\typora-user-images\image-20220612172956657-1697679581286452.png" srcset="/img/loading.gif" lazyload alt="image-20220612172956657"></p>
</li>
<li><p>避免振荡：</p>
</li>
<li><p><img src="E:\typora-user-images\image-20220612173006621-1697679581286453.png" srcset="/img/loading.gif" lazyload alt="image-20220612173006621"></p>
</li>
</ul>
<h4 id="4-4-3-距离向量路由算法DV"><a href="#4-4-3-距离向量路由算法DV" class="headerlink" title="4.4.3-距离向量路由算法DV"></a>4.4.3-距离向量路由算法DV</h4><p>距离向量路由算法是一种迭代的、异步的和分布式的算法。</p>
<ul>
<li>分布式：每个节点都从其直接相连邻居接收信息，进行计算，再将<br>计算结果分发给邻居。</li>
<li>迭代：计算过程一直持续到邻居之间无更多信息交换为止。</li>
<li>异步：不要求所有节点相互之间步伐一致地操作。</li>
<li>自我终结：算法能自行停止。</li>
</ul>
<p>最低费用表示：</p>
<p><img src="E:\typora-user-images\image-20220612180926688-1697679581286454.png" srcset="/img/loading.gif" lazyload alt="image-20220612180926688"></p>
<p>举例：</p>
<p><img src="E:\typora-user-images\image-20220612181507837-1697679581286455.png" srcset="/img/loading.gif" lazyload alt="image-20220612181507837"></p>
<p><strong>基本思想：</strong></p>
<p><img src="E:\typora-user-images\image-20220612181639350-1697679581286456.png" srcset="/img/loading.gif" lazyload alt="image-20220612181639350"></p>
<p>距离向量表：</p>
<p><img src="E:\typora-user-images\image-20220612181803265-1697679581286457.png" srcset="/img/loading.gif" lazyload alt="image-20220612181803265"></p>
<p>基本过程：</p>
<p><img src="E:\typora-user-images\image-20220612181902378-1697679581286458.png" srcset="/img/loading.gif" lazyload alt="image-20220612181902378"></p>
<p><img src="E:\typora-user-images\image-20220612181938319-1697679581286459.png" srcset="/img/loading.gif" lazyload alt="image-20220612181938319"></p>
<ul>
<li><p><img src="E:\typora-user-images\image-20220612182042025-1697679581286460.png" srcset="/img/loading.gif" lazyload alt="image-20220612182042025"></p>
</li>
<li><p><img src="E:\typora-user-images\image-20220612182055600-1697679581286461.png" srcset="/img/loading.gif" lazyload alt="image-20220612182055600"></p>
</li>
<li><p><img src="E:\typora-user-images\image-20220612182120152-1697679581286462.png" srcset="/img/loading.gif" lazyload alt="image-20220612182120152"></p>
</li>
<li><p><img src="E:\typora-user-images\image-20220612182142035-1697679581286463.png" srcset="/img/loading.gif" lazyload alt="image-20220612182142035"></p>
</li>
</ul>
<p>例：</p>
<p><img src="E:\typora-user-images\image-20220612182301884-1697679581286464.png" srcset="/img/loading.gif" lazyload alt="image-20220612182301884"></p>
<ul>
<li>多次重复从邻居接收更新距离向量、重新计算选路表项、并向<br>邻居发送更新通知的过程，一直持续到没有更新报文发出为止。</li>
<li>算法进入静止状态，直到某个链路费用发生改变为止。</li>
</ul>
<p><strong>链路费用改变与链路故障</strong></p>
<p>当一个节点检测到从它到邻居的链路费用发生变化时，就更新其距离向量，如果最低费用路径的费用发生变化，通知其邻居。</p>
<ul>
<li><p>某链路费用减少时情况</p>
<p><img src="E:\typora-user-images\image-20220612182509746-1697679581286465.png" srcset="/img/loading.gif" lazyload alt="image-20220612182509746"></p>
<p><img src="E:\typora-user-images\image-20220612182521131-1697679581286466.png" srcset="/img/loading.gif" lazyload alt="image-20220612182521131"></p>
</li>
<li><p>某链路费用增加使情况</p>
<p><img src="E:\typora-user-images\image-20220612182549312-1697679581286467.png" srcset="/img/loading.gif" lazyload alt="image-20220612182549312"></p>
<p><img src="E:\typora-user-images\image-20220612182652645-1697679581286468.png" srcset="/img/loading.gif" lazyload alt="image-20220612182652645"></p>
<p><img src="E:\typora-user-images\image-20220612182834085-1697679581286469.png" srcset="/img/loading.gif" lazyload alt="image-20220612182834085"></p>
<p><img src="E:\typora-user-images\image-20220612182845155-1697679581286470.png" srcset="/img/loading.gif" lazyload alt="image-20220612182845155"></p>
</li>
</ul>
<p>毒性逆转：</p>
<p>假如 Z通过 Y 到达 X ，则Z告诉Y：它到X的距离是无穷大，Y将不会再经过Z到X</p>
<p><img src="E:\typora-user-images\image-20220612183030528-1697679581286471.png" srcset="/img/loading.gif" lazyload alt="image-20220612183030528"></p>
<p><strong>LS算法与DV算法比较</strong></p>
<ul>
<li>消息复杂度<ul>
<li>LS算法：知道网络每条链路的费用，需发送O(nE)个报文；当一条链路的费用变化时，必须通知所有节点</li>
<li>DV算法：迭代时，仅在两个直接相连邻居之间交换报文；当链路费用改变时，只有该链路相连的节点的最低费用路径发生改变时，才传播已改变的链路费用。</li>
</ul>
</li>
<li>收敛速度：<ul>
<li>LS算法：需要O(nE)个报文和O(n^2)的搜寻，可能会振荡</li>
<li>DV算法：收敛较慢。可能会遇到选路回环，或计数到无穷的问题。</li>
</ul>
</li>
<li>健壮性：当一台路由器发生故障、操作错误或受到破坏时，会发生什么情况?<ul>
<li>LS算法：路由器向其连接的一条链路广播不正确费用，路由计算基本独立（仅计算自己的转发表），有一定健壮性。</li>
<li>DV算法：一个节点可向任意或所有目的节点发布其不正确的最低费用路径，一个节点的计算值会传递给它的邻居，并间接地传递给邻居的邻居。一个不正确的计算值会扩散到整个网络。</li>
</ul>
</li>
</ul>
<h4 id="4-4-4-层次选路"><a href="#4-4-4-层次选路" class="headerlink" title="4.4.4-层次选路"></a>4.4.4-层次选路</h4><p>自治系统AS：按区域划分的系统。每个AS由一组在相同控制管理下的路由器组成，同一个AS内的路由器可运行相同的选路算法，且拥有相互之间的信息。</p>
<p>层次选路：</p>
<ul>
<li>将一个大的系统划分成若干小系统（自治系统），</li>
<li>按区域或自治系统的形式组织路由器。</li>
<li>自治系统之间再互连。</li>
</ul>
<p>自治系统内部选路协议：在一个自治系统运行的选路算法</p>
<p>网关路由器：互连各AS，负责转发目的地在本AS之外的分组（将本AS内的分组转发到另一个AS的路由器）</p>
<p>自治系统间选路协议：在各AS之间进行选路的选路算法。将分组从一个AS选路到另一个AS</p>
<p>路由器转发表：由AS内部选路协议和AS间选路协议产生。</p>
<p><img src="E:\typora-user-images\image-20220612184432016-1697679581286472.png" srcset="/img/loading.gif" lazyload alt="image-20220612184432016"></p>
<p>例：</p>
<p><img src="E:\typora-user-images\image-20220612203027647-1697679581286473.png" srcset="/img/loading.gif" lazyload alt="image-20220612203027647"></p>
<p><img src="E:\typora-user-images\image-20220612203037162-1697679581286474.png" srcset="/img/loading.gif" lazyload alt="image-20220612203037162"></p>
<p><img src="E:\typora-user-images\image-20220612203052725-1697679581286475.png" srcset="/img/loading.gif" lazyload alt="image-20220612203052725"></p>
<p><img src="E:\typora-user-images\image-20220612203134778-1697679581286477.png" srcset="/img/loading.gif" lazyload alt="image-20220612203134778"></p>
<p>自治系统的优点：</p>
<ul>
<li>减少规模大的网络选路计算的复杂性：<ul>
<li>AS内部路由器运行相同的自治系统内部选路协议，仅需要知道本AS内的路由器与网关路由器。</li>
<li>各AS之间，运行相同的AS间选路协议。</li>
</ul>
</li>
<li>管理职权灵活：<ul>
<li>一个组织可自行选择AS内部选路协议，每对相连的AS运行相同<br>AS间选路协议，交换信息</li>
</ul>
</li>
</ul>
<p><strong>AS内部选路协议</strong></p>
<p>RIP选路信息协议：基于距离向量的路由协议</p>
<p>OSPF(Open Shortest Path First)开放最短路径优先：采用采用Dijkstra最短费用路径算法，是一种链路状态协议（？LS算法）</p>
<ul>
<li>open”: 开放、公用的</li>
<li>用链路状态算法<br>• 采用洪泛链路状态信息，分发LS 分组<br>• 每个节点具有网络拓扑图<br>• 路由计算使用 Dijkstra算法</li>
<li>每个router都以洪泛的方式广播OSPF通告，OSPF通告里为每个邻<br>居路由器设一个表项（记录每个邻居的链路特征和费用）。</li>
<li>通告会散布到整个自治系统 (通过洪泛法)<br>• OSPF信息直接通过 IP传输 (不是 TCP 或 UDP）</li>
</ul>
<p>OSPF的优点：</p>
<ul>
<li>安全: 所有OSPF 消息需要认证 (防止恶意入侵)</li>
<li>允许多个相同开销的路径 (在 RIP中只有一条路径)</li>
<li>单播和多播综合支持: 多播 OSPF (MOSPF) 使用和 OSPF同样的链路数据库</li>
<li>在大的区域中使用层次 OSPF</li>
</ul>
<p><img src="E:\typora-user-images\image-20220612204444656-1697679581286476.png" srcset="/img/loading.gif" lazyload alt="image-20220612204444656"></p>
<p><strong>AS间选路协议</strong></p>
<p>BGP (Border Gateway Protocol)边界网关协议：基于距离向量的路由协议。相邻BGP路由器相互交换路径信息。</p>
<p>BGP 为每个 AS 提供了一种手段:</p>
<ul>
<li>从相邻AS获取子网可达信息</li>
<li>向该AS内部的所有路由器传播这些可达性信息</li>
<li>基于该可达信息和AS策略，决定到达子网的“好”路由</li>
</ul>
<p>允许一个子网向Internet的其他部分通告它的存在 “I<br>am here”</p>
<p>路由器对（BGP对等方）通过TCP连接来交换选路信息：BGP 会话<br>BGP会话和物理链路无关（是TCP连接，并不总是和某条物理链路对应）。<br>在BGP中，目的地不是主机地址，而是CIDR化前缀。<br>        当AS2通告一个前缀给AS1,说明AS2能够转发目的地址前缀，是具有这个通告前缀 的所有分组。</p>
<p>例：</p>
<p><img src="E:\typora-user-images\image-20220612205145942-1697679581286478.png" srcset="/img/loading.gif" lazyload alt="image-20220612205145942"></p>
<ul>
<li><p>路径属性和BGP路由</p>
<ul>
<li>当通告前缀时，通告包含了BGP属性.</li>
<li>前缀+属性&#x3D;“路由”</li>
<li>两个重要的属性:<ul>
<li>AS-PATH: 包含了前缀的通告已经通告过的那些AS,如 AS 67 AS 17</li>
<li>NEXT-HOP: 指出到达下一个AS的具体AS间边界路由器（可能存在多条从当前AS到达下一个AS的链路）</li>
</ul>
</li>
<li>当网关路由器接收到路由通告时，使用输入策略来决定接收&#x2F;舍弃该<br>通告。</li>
</ul>
</li>
<li><p>BGP路由选择</p>
<ul>
<li>路由器可能知道到相同前缀的多条路由，路由器必须从中选择.</li>
<li>排除规则（应用排除规则直到有一条留下）<ul>
<li>本地偏好值属性: 具有最高偏好值的路由被选择</li>
<li>最短AS-PATH的路由 （使用AS跳数）</li>
<li>最靠近 NEXT-HOP路由器的路由 : 热土豆路由（AS内部路由算法决定）。</li>
<li>其他标准</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>IP任播：</p>
<p><img src="E:\typora-user-images\image-20220612205737512-1697679581287479.png" srcset="/img/loading.gif" lazyload alt="image-20220612205737512"></p>
<ul>
<li><p>BGP选路策略：</p>
<p><img src="E:\typora-user-images\image-20220612205810058-1697679581287480.png" srcset="/img/loading.gif" lazyload alt="image-20220612205810058"></p>
<p><img src="E:\typora-user-images\image-20220612234712324-1697679581287481.png" srcset="/img/loading.gif" lazyload alt="image-20220612234712324"></p>
</li>
</ul>
<p>为什么AS内选路和AS间选路采用不同的协议？</p>
<ul>
<li>策略:<ul>
<li>AS间: 管理员想控制本AS内产生的通信流怎样选路，以及什么通信流穿过自己的网络</li>
<li>AS内:单个管理者, 因此不需要策略</li>
</ul>
</li>
<li>规模:<ul>
<li>层次路由节省了转发表的大小空间，减少了路由更新的流量</li>
</ul>
</li>
<li>性能:<ul>
<li>AS内: 集中在性能上</li>
<li>AS间: 策略可能比性能更加重</li>
</ul>
</li>
</ul>
<h4 id="4-4-5-SDN"><a href="#4-4-5-SDN" class="headerlink" title="4.4.5-SDN"></a>4.4.5-SDN</h4><p>软件定义网络(SDN,SoftwareDefinedNetwork):源自美国斯坦福大学CLeanState研究组提出的一种新型网络创新架构，可通过软件编程的形式定义和控制网络，具有控制平面和转发平面分离及开放性可编程的特点。</p>
<p>SDN的核心理念是，希望应用软件可以参与对网络的控制管理，满足上层业务需求，通过自动化业务部署，简化网络运维。</p>
<p>SDN并不是一个具体的技术，它是一种网络设计理念，规划了网络的各个组成部分（软件、硬件、转发面和控制面）及相互之间的互动关系。</p>
<p>核心思想：建立一个通用转发体系<br>每个交换设备包含一个流表，流表有一个逻辑上中心化的控制器（远程控制器）来计算和分发<br><img src="E:\typora-user-images\image-20220612235128657-1697679581287482.png" srcset="/img/loading.gif" lazyload alt="image-20220612235128657"></p>
<p>通用转发和SDN：<br><img src="E:\typora-user-images\image-20220612235322266-1697679581287483.png" srcset="/img/loading.gif" lazyload alt="image-20220612235322266"></p>
<p><img src="E:\typora-user-images\image-20220612235334593-1697679581287485.png" srcset="/img/loading.gif" lazyload alt="image-20220612235334593"></p>
<p><strong>OpenFLow数据平面抽象</strong></p>
<p><img src="E:\typora-user-images\image-20220612235418522-1697679581287484.png" srcset="/img/loading.gif" lazyload alt="image-20220612235418522"></p>
<p>流表条目：</p>
<p><img src="E:\typora-user-images\image-20220612235736874-1697679581287486.png" srcset="/img/loading.gif" lazyload alt="image-20220612235736874"></p>
<p>数据平面抽象：</p>
<p><img src="E:\typora-user-images\image-20220612235803404-1697679581287487.png" srcset="/img/loading.gif" lazyload alt="image-20220612235803404"></p>
<p><img src="E:\typora-user-images\image-20220612235810915-1697679581287488.png" srcset="/img/loading.gif" lazyload alt="image-20220612235810915"></p>
<p>SDN体系结构及特征：</p>
<p><img src="E:\typora-user-images\image-20220612235858360-1697679581287489.png" srcset="/img/loading.gif" lazyload alt="image-20220612235858360"></p>
<p>SDN控制器的组件：</p>
<p><img src="E:\typora-user-images\image-20220612235930842-1697679581287490.png" srcset="/img/loading.gif" lazyload alt="image-20220612235930842"></p>
<h2 id="第五章-链路层"><a href="#第五章-链路层" class="headerlink" title="第五章 链路层"></a>第五章 链路层</h2><h3 id="5-1-概述"><a href="#5-1-概述" class="headerlink" title="5.1-概述"></a>5.1-概述</h3><p>节点node：主机、交换机和路由器、WIFI接入点等。</p>
<p>链路link：连接相邻节点的通信信道，包括：有线链路、无线链路、局域网</p>
<p>数据链路层的职责：将分组通过一个链路，从一个节点传输到临近的另一个节点。</p>
<p>链路层协议：用来在单段链路上传输分组。（定义了在链路两端的节点之间交互的分组格式，以及当发送和接受分手时节点采取的动作）</p>
<ul>
<li>交换的数据单元称为帧frame，封装了一个网络层的数据报。</li>
<li>所采取的动作：包括差错检测、重传、流量控制和随机访问</li>
<li>典型协议：以太网、802.11无线LAN、令牌环和PPP</li>
</ul>
<p>类比：</p>
<ul>
<li>数据报可以在不同的链路上，通过不同的链路层协议发送</li>
<li>每个链路层协议提供不同的服务（可以提供&#x2F;不提供可靠数据传输服务）</li>
</ul>
<p><strong>链路层提供的服务：</strong></p>
<ul>
<li><p>封装成帧</p>
<ul>
<li>封装数据报为数据帧，增加头部，尾部信息，再传送到链路上</li>
<li>不同的链路层协议，帧格式可能不同</li>
</ul>
</li>
<li><p>链路访问</p>
<ul>
<li>有媒体访问MAC协议定义帧在链路上传输的规则<ul>
<li>点对点链路：一个发送方和一个接收方，MAC协议比较简单（或不存在），即任何时候只要链路空闲，发送方都能够发送帧</li>
<li>广播链路：多个节点共享一个链路（多路访问），使用MAC协议协调多个节点的帧传输</li>
</ul>
</li>
</ul>
</li>
<li><p>在相邻节点之间可靠交付</p>
<ul>
<li>保证网络层的数据报无差错地通过链路层</li>
</ul>
</li>
<li><p>流量控制</p>
<ul>
<li>用于控制发送节点向直接相连的接受节点发送数据帧的频率</li>
</ul>
</li>
<li><p>差错检查</p>
<ul>
<li>差错可能有信号衰减、噪声引入</li>
<li>接收方检测是否出现错误<ul>
<li>通知发送方重传或丢弃数据帧</li>
</ul>
</li>
</ul>
</li>
<li><p>错误纠正</p>
<ul>
<li>接收方标识和纠正比特错误，而不需要请求重传</li>
</ul>
</li>
<li><p>半双工和全双工</p>
<ul>
<li>在半双工模式，链路的两个节点都可以发送数据，但是不能同时发送</li>
</ul>
</li>
</ul>
<p><strong>链路层实现的位置</strong></p>
<ul>
<li>在主机和网络设备(路由器)上实现</li>
<li>在主机上，链路层的主体部分是在网络适配器上实现的(称为网卡)<ul>
<li>以太网卡，802.11卡；以太网芯<br>片组</li>
<li>实现链路层和物理层的功能</li>
</ul>
</li>
<li>硬件、软件、固件的组合</li>
</ul>
<p>网络适配器：</p>
<ul>
<li>发送方<ul>
<li>封装数据报为数据帧</li>
<li>增加差错检测比特，可靠数据传输，流量控制等机制</li>
</ul>
</li>
<li>接收方<ul>
<li>执行检查错误、可靠数据传输、流量控制等机制</li>
<li>抽取数据报，将其递交给上层</li>
</ul>
</li>
</ul>
<h3 id="5-2-差错检测和纠错"><a href="#5-2-差错检测和纠错" class="headerlink" title="5.2-差错检测和纠错"></a>5.2-差错检测和纠错</h3><p>错误检测不是100%可靠<br>协议有可能漏掉一些错误，但很少<br>大的校验信息能提供更好的检错能力<br><img src="E:\typora-user-images\image-20220613135225569-1697679581287491.png" srcset="/img/loading.gif" lazyload alt="image-20220613135225569"></p>
<p>三种主要差错检测技术：奇偶检验、Internet校验和、循环冗余检测</p>
<h4 id="5-2-1-比特奇偶校验"><a href="#5-2-1-比特奇偶校验" class="headerlink" title="5.2.1-比特奇偶校验"></a>5.2.1-比特奇偶校验</h4><ul>
<li>发送方<ul>
<li>在要发送的信息D（d位）后面附加一个奇偶校验位 使“1”的个数是奇数（奇校验）或偶数（偶校验）</li>
<li>一起传输发送（d+1位）。</li>
</ul>
</li>
<li>接收方<ul>
<li>检测收到的信息（d+1位）中“1”的个数。</li>
<li>偶校验：发现奇数个“1”，至少有一个比特发生差错（奇数个比特差错）。</li>
<li>奇校验：发现偶数个“1”，至少有一个比特发生差错。</li>
</ul>
</li>
</ul>
<p>可以查出任意奇数个错误，但不能发现偶数个错误。<br>若比特差错概率很小，差错独立发生，一比特奇偶校验可满足要求。<br>若差错集中一起“突发”（突发差错），一帧中未检测到的差错的概率达到50%。</p>
<p>二维奇偶校验</p>
<p>基本思想：</p>
<ul>
<li>将要传信息D（d比特）划分为i行j列（i 个组，每组j位）；</li>
<li>对每行和每列分别计算奇偶值；</li>
<li>结果的i+j+1个奇偶比特构成了帧的差错检测比特。</li>
</ul>
<p>例：</p>
<p><img src="E:\typora-user-images\image-20220613141603530-1697679581287492.png" srcset="/img/loading.gif" lazyload alt="image-20220613141603530"></p>
<h4 id="5-2-2-Interntet校验和方法"><a href="#5-2-2-Interntet校验和方法" class="headerlink" title="5.2.2-Interntet校验和方法"></a>5.2.2-Interntet校验和方法</h4><p>发送方：</p>
<ul>
<li>将数据的每两个字节当作一个16位的整数，可分成若干整数；</li>
<li>将所有16 位的整数求和（带进位位回卷求和）；</li>
<li>对得到的和逐位取反，作为检查和，放在报文段首部，一起发送。</li>
</ul>
<p>接收方：</p>
<ul>
<li>对接收到的信息 (包括检查和)按与发送方相同的方法求校验和。<ul>
<li>全“0”：收到的数据无差错；</li>
<li>其中有“1”：收到的数据出现差错</li>
</ul>
</li>
</ul>
<p>特点：</p>
<ul>
<li>分组开销小：检查和位数比较少；</li>
<li>差错检测能力弱：</li>
<li>适用于运输层（差错检测用软件实现，检查和方法简单、快速）。</li>
<li>链路层的差错检测由适配器中专用的硬件实现，采用更强的CRC方法。</li>
</ul>
<h4 id="5-2-3-循环冗余检测"><a href="#5-2-3-循环冗余检测" class="headerlink" title="5.2.3- 循环冗余检测"></a>5.2.3- 循环冗余检测</h4><p>计算机网络中广泛采用</p>
<ul>
<li>循环冗余检测CRC (cyclic redundancy check)编码：<ul>
<li>即多项式编码，把要发送的比特串看作为系数是0或1的一个多项式，</li>
<li>对比特串的操作看作为多项式运算。</li>
</ul>
</li>
<li>基本思想：<ul>
<li>设发送节点要把数据D（ d 比特）发送 给接收节点。</li>
<li>发送方和接收方先共同选定一个生成多项式 G（r+1比特），最高有效位 (最左边)是1。</li>
</ul>
</li>
</ul>
<p>发送方：</p>
<ul>
<li>计算出一个r位附加比特R，添加到D的后面产生DR（d+r 比特）</li>
<li>DR能被生成多项式G模2运算整除，一起发送</li>
</ul>
<p>接收方：</p>
<ul>
<li>用生成多项式G去除接收到的DR（d+r比特）<ul>
<li>余数非0：传输发生差错；</li>
<li>余数为0：传输正确，去掉尾部r位，得所需数据D。</li>
</ul>
</li>
</ul>
<p>模2运算：</p>
<p><img src="E:\typora-user-images\image-20220613160717438-1697679581287493.png" srcset="/img/loading.gif" lazyload alt="image-20220613160717438"></p>
<p>计算R：<br><img src="E:\typora-user-images\image-20220613160840109-1697679581287494.png" srcset="/img/loading.gif" lazyload alt="image-20220613160840109"></p>
<p>例：</p>
<p><img src="E:\typora-user-images\image-20220613161003703-1697679581287495.png" srcset="/img/loading.gif" lazyload alt="image-20220613161003703"></p>
<p><img src="E:\typora-user-images\image-20220613161012503-1697679581288496.png" srcset="/img/loading.gif" lazyload alt="image-20220613161012503"></p>
<p>特点：</p>
<p><img src="E:\typora-user-images\image-20220613161103087-1697679581288497.png" srcset="/img/loading.gif" lazyload alt="image-20220613161103087"></p>
<p>差错检测方法比较：</p>
<ul>
<li>奇偶校验能力最弱，CRC校验能力最强。</li>
<li>奇偶校验通常用于简单的串口通信</li>
<li>Internet校验和通常用于网络层及其之上的层次，要求简单快速的<br>软件实现方式</li>
<li>CRC通常应用于链路层，一般由适配器硬件实现</li>
</ul>
<h3 id="5-3-多路访问链路和协议"><a href="#5-3-多路访问链路和协议" class="headerlink" title="5.3-多路访问链路和协议"></a>5.3-多路访问链路和协议</h3><p>广播：任何一个节点传输一个帧时，信号在信道上广播，其他节点都可以收到一个拷贝。</p>
<p>多路访问问题：如何协调多个发送和接受节点对共享广播信道的访问。相关技术即是多辆是访问协议（也称多址访问协议）</p>
<h4 id="5-3-1-多路访问协议"><a href="#5-3-1-多路访问协议" class="headerlink" title="5.3.1-多路访问协议"></a>5.3.1-多路访问协议</h4><p>目的：协调多个节点在共享信道上的传输</p>
<ul>
<li>避免多个节点同时使用信道，发生冲突（碰撞），产生互相干扰</li>
</ul>
<p>冲突：两个以上的节点同时传输帧，使接受方收不到正确的帧（所有的冲突的帧都受损丢失）</p>
<ul>
<li>造成广播信道时间的浪费</li>
<li>多路访问协议可用于许多不同的网络环境，如有线和无线局域网、卫星网等</li>
</ul>
<p>共享信道既要负责进行数据传输，又要负责分布式算法的控制信息的传输（没有带外信道传输控制信息）</p>
<p>三类多路访问协议：</p>
<ul>
<li>信道划分协议 <ul>
<li>把信道划分为小“片”（）时隙</li>
<li>给节点分配专用的小“片”</li>
</ul>
</li>
<li>随机访问协议<ul>
<li>不划分信道，允许冲突</li>
<li>能从冲突中“恢复”</li>
</ul>
</li>
<li>轮流协议<ul>
<li>通过轮流访问信道避免冲突，要发送的节点越多轮流时间越长</li>
</ul>
</li>
</ul>
<p><strong>信道划分协议</strong></p>
<p>包括：TDMA、FDMA、CDMA三种</p>
<ul>
<li>时分多路访问TDMA：将时间划分为时间帧，每个时间帧再划分为N个时隙（长度保证发送一个分组），分别分配给N个节点。每个节点只在固定分配的时隙中传输。<br><img src="E:\typora-user-images\image-20220613162412684-1697679581288498.png" srcset="/img/loading.gif" lazyload alt="image-20220613162412684"><ul>
<li>特点：<ul>
<li>避免冲突、公平</li>
<li>节点速率优先</li>
<li>效率不高</li>
</ul>
</li>
</ul>
</li>
<li>频分多路访问FDMA：将总信道带宽 R b&#x2F;s划分为 N 个较小信道（频段，带宽为R&#x2F;N），分别分配给N 个节点。<br><img src="E:\typora-user-images\image-20220613162601336-1697679581288499.png" srcset="/img/loading.gif" lazyload alt="image-20220613162601336"></li>
<li>码分多路访问CDMA：<br>每个节点分配一个唯一的编码<br>每个节点用它唯一的编码来对它发送的数据进行编码<br>允许多个节点“共存”，信号可叠加，既可以同时传输数据而无冲突（如果编码是“正交化的”）</li>
</ul>
<p><strong>随机访问协议</strong></p>
<p>基本思想：</p>
<ul>
<li>发送节点以信道全部速率（R b&#x2F;s）发送；</li>
<li>发生冲突时，冲突的每个节点分别等待一个随机时间，再重发，直到帧(分组)发送成功</li>
<li>节点间没有协调者</li>
</ul>
<p><strong>ALOHA协议</strong></p>
<p><img src="E:\typora-user-images\image-20220613163017931-1697679581288500.png" srcset="/img/loading.gif" lazyload alt="image-20220613163017931"></p>
<p>1、时隙ALOHA：</p>
<p>所有的帧长L比特；<br>时间被划分为若干等长的时隙（长度为一帧的传输时间L&#x2F;R s）；<br>节点值在时隙的的开始点传输帧；<br>所有节点同步传输，知道时隙什么时候开始；<br>如果一个时隙有多个节点同时传送，所有节点都检测到冲突；<br>当节点有新的帧要发送，需等到下一个时隙开始，才传世整个帧。</p>
<p>无冲突：节点成功传输帧<br>有冲突：节点检测到冲突后，以概率p在后续的每一个时隙重传该帧，知道成功</p>
<p>当只有一个活到节点（有帧要发送）时，一全速R连续传输<br>分散的：每个节点检测并独立决定何时重传：<br>发送控制简单<br>有多个活动节点时效率低</p>
<p>三种可能时隙：</p>
<ul>
<li>冲突时隙C：出现帧冲突，被“浪费”。</li>
<li>空闲时隙E：所有活动节点停止传输，被“浪费”。</li>
<li>成功时隙S：只有一个节点在传输的时隙。</li>
</ul>
<p>效率：<br><img src="E:\typora-user-images\image-20220613164047867-1697679581288501.png" srcset="/img/loading.gif" lazyload alt="image-20220613164047867"></p>
<p><img src="E:\typora-user-images\image-20220613164101013-1697679581288502.png" srcset="/img/loading.gif" lazyload alt="image-20220613164101013"></p>
<p>优缺点：</p>
<p><img src="E:\typora-user-images\image-20220613164120452-1697679581288504.png" srcset="/img/loading.gif" lazyload alt="image-20220613164120452"></p>
<p>2、纯ALOHA</p>
<p>非时隙Aloha: 简单，不需同步， ALOHA的最初形式。<br>帧一到达，立即传输<br>如果与其他帧产生冲突，在该冲突帧传完之后：</p>
<ul>
<li>以概率p立即重传该帧；</li>
<li>或等待一个帧的传输时间，再以概率p 传输该帧，或者以概率1-p 等待另一个帧的时间。</li>
</ul>
<p><img src="E:\typora-user-images\image-20220613164234921-1697679581288503.png" srcset="/img/loading.gif" lazyload alt="image-20220613164234921"></p>
<p><img src="E:\typora-user-images\image-20220613164314463-1697679581288505.png" srcset="/img/loading.gif" lazyload alt="image-20220613164314463"></p>
<p>效率：</p>
<p><img src="E:\typora-user-images\image-20220613164348334-1697679581288507.png" srcset="/img/loading.gif" lazyload alt="image-20220613164348334"></p>
<p><strong>CSMA载波侦听多路访问</strong></p>
<p>载波侦听：某个节点在发送之前，先监听信道</p>
<ul>
<li>信道忙：有其他节点正往信道发送帧，该节点随机等待（回退）一段时间，然后再侦听信道。</li>
<li>信道空：该节点开始传输整个数据帧。</li>
</ul>
<p>特点：</p>
<ul>
<li>发前监听，可减少冲突。</li>
<li>由于传播时延的存在，仍有可能出现冲突，并造成信道浪费。</li>
</ul>
<p>例：</p>
<p><img src="E:\typora-user-images\image-20220613164604202-1697679581288506.png" srcset="/img/loading.gif" lazyload alt="image-20220613164604202"></p>
<p><img src="E:\typora-user-images\image-20220613164620899-1697679581288508.png" srcset="/img/loading.gif" lazyload alt="image-20220613164620899"></p>
<p><img src="E:\typora-user-images\image-20220613164647727-1697679581288509.png" srcset="/img/loading.gif" lazyload alt="image-20220613164647727"></p>
<p><strong>带冲突检测的CSMA(CSMA&#x2F;CD)</strong></p>
<p>增加“载波侦听”和“冲突检测”两个规则。</p>
<p>基本原理： 传送前侦听</p>
<ul>
<li>信道忙：延迟传送</li>
<li>信道闲：传送整个帧</li>
</ul>
<p>发送同时进行冲突检测：一旦检测到冲突就立即停止传输， 尽快重发。</p>
<p>目的：缩短无效传送时间，提高信道的利用率</p>
<p>例：</p>
<p><img src="E:\typora-user-images\image-20220613164901428-1697679581288510.png" srcset="/img/loading.gif" lazyload alt="image-20220613164901428"></p>
<p><strong>轮流协议</strong></p>
<p><img src="E:\typora-user-images\image-20220613164939889-1697679581288511.png" srcset="/img/loading.gif" lazyload alt="image-20220613164939889"></p>
<p>1、轮询协议</p>
<p>轮询：</p>
<ul>
<li>主节点“邀请”从节点依次传送：</li>
<li>问题:<ul>
<li>轮询的开销</li>
<li>延时</li>
<li>单点故障(主节点）</li>
</ul>
</li>
</ul>
<p>令牌传递（token passing）：</p>
<ul>
<li>控制令牌顺序从一个节点传递到下一个节点。</li>
<li>问题:<ul>
<li>单点失效(token)</li>
</ul>
</li>
</ul>
<p><strong>多路访问协议的总结</strong></p>
<p><img src="E:\typora-user-images\image-20220613165150291-1697679581288512.png" srcset="/img/loading.gif" lazyload alt="image-20220613165150291"></p>
<h3 id="5-4-交换局域网"><a href="#5-4-交换局域网" class="headerlink" title="5.4-交换局域网"></a>5.4-交换局域网</h3><p>局域网LAN（Local Area Network）</p>
<p>主要特点：网络为一个单位所拥有，且地理范围和站点数目均有限。</p>
<p>链路层技术的发展，使得局域网、城域网、广域网的概念变得越来越<br>模糊和不重要</p>
<p>多址访问协议广泛应用于局域网</p>
<p>基于随机访问的CSMA&#x2F;CD广泛应用于局域网</p>
<p>基于令牌传递技术的令牌环和FDDI在局域网技术中变得次要或被淘<br>汰</p>
<p>局域网按拓扑结构进行分类：星形网、环形网、总线网、树形网和网<br>状网</p>
<p>局域网体系结构：</p>
<p><img src="E:\typora-user-images\image-20220613165353251-1697679581288513.png" srcset="/img/loading.gif" lazyload alt="image-20220613165353251"></p>
<h4 id="5-4-1-链路寻址和ARP"><a href="#5-4-1-链路寻址和ARP" class="headerlink" title="5.4.1-链路寻址和ARP"></a>5.4.1-链路寻址和ARP</h4><p>每个接口有网络层地址和链路层地址。</p>
<ul>
<li><p>网络层地址： 节点在互连网络中分配的一个唯一地址（IP地址）。用于把分组送到目的IP网络。长度为32比特（IPv4）。包括两部分：</p>
<ul>
<li><p>网络号：指明主机所在物理网络的编号。</p>
</li>
<li><p>主机号：主机在物理网络中的编号。</p>
</li>
</ul>
</li>
<li><p>链路层地址：MAC地址。<br>用于把数据帧从一个节点传送到另一个节点(同一网络中)。</p>
<ul>
<li>MAC地址：<ul>
<li>节点“网卡”本身所带的地址（唯一）。</li>
<li>MAC地址长度通常为6字节(48比特)，共248个。</li>
<li>6字节地址用16进制表示，每个字节表示为一对16进制数</li>
<li>网卡的MAC地址是永久的（生产时固化在其ROM里）</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>MAC地址分配：<br>由专门机构（IEEE的注册管理委员会RAC）管理物理地址空间。负责分配六个字节中的前三个字节（高24位，地址块）。</p>
<ul>
<li>MAC 地址是平面结构： &#x3D;&gt; 可移动<br>带有同一网卡的节点，在任何网络中都有同样的MAC地址。（类似身份证）</li>
<li>IP地址具有层次结构： &#x3D;&gt;依赖节点所依附的IP网络<br>当节点移动到不同网络时，节点的IP地址发生改变。</li>
</ul>
<p>MAC地址识别：</p>
<p><img src="E:\typora-user-images\image-20220613173411479-1697679581288514.png" srcset="/img/loading.gif" lazyload alt="image-20220613173411479"></p>
<p>节点的3种不同地址表示：</p>
<p><img src="E:\typora-user-images\image-20220613175522312-1697679581288515.png" srcset="/img/loading.gif" lazyload alt="image-20220613175522312"></p>
<p>地址之间的转换：</p>
<p><img src="E:\typora-user-images\image-20220613190402091-1697679581288516.png" srcset="/img/loading.gif" lazyload alt="image-20220613190402091"></p>
<p><strong>ARP地址解析协议</strong></p>
<p>ARP表：局域网上的每个节点(主机、路由器)都有这个表</p>
<ul>
<li>为某些局域网节点进行IP&#x2F;MAC地址<br>映射：&lt; IP address; MAC address; TTL&gt;</li>
<li>TTL (存活时间): 地址映射将被删除的时间（通常为20分钟）</li>
</ul>
<p>1.两个主机位于同一个局域网：</p>
<ul>
<li>A 希望发送数据报给 B<ul>
<li>B的MAC地址不在A的ARP映射表中</li>
</ul>
</li>
<li>A广播包含B的IP地址的ARP查询分组<ul>
<li>目的MAC地址&#x3D; FF-FF-FF-FF-FF-FF</li>
<li>在局域网上的所有机器都能收到ARP查询</li>
<li>每个适配器把该帧中的ARP查询分组向上传递给ARP模块，并由ARP模块检查是否与查询IP匹配。</li>
</ul>
</li>
<li>B收到ARP分组，回给A一个带有B的MAC地址的分组</li>
<li>ARP响应分组单播发送给A的MAC地址</li>
<li>A缓存IP-to-MAC地址对在 ARP表中，直到信息过期 (timeout)<ul>
<li>软件规定: 如果ARP表的信息在一定时间内没有刷新，则信息将过期。</li>
</ul>
</li>
</ul>
<p>ARP是即插即用的:无需网络管理员干预，节点就能创建ARP表<br>ARP协议是跨越链路层和网络层两边的协议</p>
<p>2.发送数据报到子网以外：</p>
<p><img src="E:\typora-user-images\image-20220613191342474-1697679581288517.png" srcset="/img/loading.gif" lazyload alt="image-20220613191342474"></p>
<p><img src="E:\typora-user-images\image-20220613191613345-1697679581288518.png" srcset="/img/loading.gif" lazyload alt="image-20220613191613345"></p>
<p><img src="E:\typora-user-images\image-20220613191622049-1697679581288519.png" srcset="/img/loading.gif" lazyload alt="image-20220613191622049"></p>
<p><img src="E:\typora-user-images\image-20220613191915438-1697679581288520.png" srcset="/img/loading.gif" lazyload alt="image-20220613191915438"></p>
<h4 id="5-4-2-以太网"><a href="#5-4-2-以太网" class="headerlink" title="5.4.2-以太网"></a>5.4.2-以太网</h4><p>以太网的物理拓扑结构：</p>
<ul>
<li>总线(bus): 一直流行到90年代中期<ul>
<li>所有节点都属于相同的冲突域</li>
</ul>
</li>
<li>星形(star):目前流行<ul>
<li>中心是交换机</li>
<li>每个端口运行一个独立的以太网协议(节点相互之间不发生碰撞)</li>
</ul>
</li>
</ul>
<p>以太网链路层控制技术：</p>
<p><img src="E:\typora-user-images\image-20220613192557387-1697679581288521.png" srcset="/img/loading.gif" lazyload alt="image-20220613192557387"></p>
<p><strong>以太网的帧结构：</strong></p>
<p><img src="E:\typora-user-images\image-20220613192637976-1697679581288522.png" srcset="/img/loading.gif" lazyload alt="image-20220613192637976"></p>
<ul>
<li><p>前同步码：</p>
<p><img src="E:\typora-user-images\image-20220613192822231-1697679581288523.png" srcset="/img/loading.gif" lazyload alt="image-20220613192822231"></p>
</li>
<li><p>源、目的MAC地址（各6字节）</p>
<p><img src="E:\typora-user-images\image-20220613192832431-1697679581288524.png" srcset="/img/loading.gif" lazyload alt="image-20220613192832431"></p>
</li>
<li><p>类型字段(2 字节)</p>
<p><img src="E:\教材\大二下\计算机网络\image-20220613192914669.png" srcset="/img/loading.gif" lazyload alt="image-20220613192914669"></p>
</li>
<li><p>数据字段(46～1500 字节)</p>
<p><img src="E:\typora-user-images\image-20220613192945073-1697679581288525.png" srcset="/img/loading.gif" lazyload alt="image-20220613192945073"></p>
</li>
<li><p>循环冗余检测CRC(4字节)</p>
<p><img src="E:\typora-user-images\image-20220613193036806-1697679581288526.png" srcset="/img/loading.gif" lazyload alt="image-20220613193036806"></p>
</li>
</ul>
<p><strong>不可靠的无连接服务</strong></p>
<p>以太网向网络层提供的服务：</p>
<ul>
<li>无连接服务：通信时，发送方适配器不需要先和接收方适配器“握手”。</li>
<li>不可靠的服务：接收到的帧可能包含比特差错。<ul>
<li>收到正确帧，不发确认帧；</li>
<li>收到出错帧，丢弃该帧，不发否定帧。</li>
<li>发送适配器不会重发出错帧。</li>
<li>丢弃数据的恢复是通过终端传输层的可靠数据传输机制来实现的</li>
</ul>
</li>
<li>以太网的MAC协议：使用无时隙的CSMA&#x2F;CD协议（二进制指数回退）<ul>
<li>限制任意两个节点之间的距离。</li>
<li>采用指数回退等待，减少冲突。</li>
<li>适配器每传输一个帧，都要运行CSMA&#x2F;CD算法。</li>
<li>适配器发送新帧时，不考虑最近发生的任何冲突：<ul>
<li>当发生冲突的适配器处于指数回退状态时，冲突外的适配器有可能成功的传输一个新帧。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="5-4-3-链路层交换机"><a href="#5-4-3-链路层交换机" class="headerlink" title="5.4.3-链路层交换机"></a>5.4.3-链路层交换机</h4><p>链路层交换机：互连局域网网段的网络设备<br>集线器：中继器（物理层）<br>交换机：多端口网桥（链路层）</p>
<p><strong>集线器-Hub：</strong></p>
<p><img src="E:\typora-user-images\image-20220613194152217-1697679581288527.png" srcset="/img/loading.gif" lazyload alt="image-20220613194152217"></p>
<p><img src="E:\typora-user-images\image-20220613194204696-1697679581289531.png" srcset="/img/loading.gif" lazyload alt="image-20220613194204696"></p>
<p><img src="E:\typora-user-images\image-20220613194402940-1697679581288528.png" srcset="/img/loading.gif" lazyload alt="image-20220613194402940"></p>
<p><img src="E:\typora-user-images\image-20220613194421640-1697679581288529.png" srcset="/img/loading.gif" lazyload alt="image-20220613194421640"></p>
<p><strong>链路层交换机：</strong></p>
<ul>
<li><p>链路层设备</p>
<ul>
<li>不同LAN网段的主机可以互相通信，每个LAN网段是一个独立的冲突域。</li>
<li>存储转发数据帧，可以互联不同的LAN技术。</li>
<li>检查达到的数据帧的MAC地址，有选择的转发数据帧到一个或多个输出链路，当数据帧被转发到一个共享网段时，使用CSMA&#x2F;CD来访问共享链路。</li>
<li>对LAN的大小没有限制，理论上，可扩展到全球。</li>
<li>透明</li>
</ul>
</li>
<li><p>主机不关心是否存在交换机</p>
</li>
<li><p>即插即用和自学习</p>
<ul>
<li>交换机不需要手工配置</li>
</ul>
<p><img src="E:\typora-user-images\image-20220613194654443-1697679581289530.png" srcset="/img/loading.gif" lazyload alt="image-20220613194654443"></p>
</li>
</ul>
<p>支持多节点同时传输：</p>
<ul>
<li><p>每个主机由单独的链路直接连到交换机端口</p>
</li>
<li><p>交换机可以缓存数据帧</p>
</li>
<li><p>以太网协议在每个输入链路使用，</p>
<ul>
<li>无碰撞，全双工</li>
<li>每条链路自身是一个碰撞域</li>
</ul>
</li>
<li><p>交换机： A-to-A’和B-to-B’可以同时传输，而不会发生碰撞</p>
<p><img src="E:\typora-user-images\image-20220613194754725-1697679581289532.png" srcset="/img/loading.gif" lazyload alt="image-20220613194754725"></p>
</li>
</ul>
<p>转发表：</p>
<p><img src="E:\typora-user-images\image-20220613194825165-1697679581289533.png" srcset="/img/loading.gif" lazyload alt="image-20220613194825165"></p>
<p>转发和过滤：</p>
<p>过滤(filtering)：交换机判断一个帧是应该转发到某个接口还是丢弃。<br>转发(forward)：交换机决定一个帧应该被指向哪个接口，并引导到该接口。（过滤和转发通过交换机表(switch table)完成。）</p>
<p>交换机表：</p>
<ul>
<li>包含LAN上部分节点的表项。</li>
<li>内容：节点的MAC地址、通向该节点的交换机接口、节点表项产生的时间。<br><img src="E:\typora-user-images\image-20220613195021556-1697679581289534.png" srcset="/img/loading.gif" lazyload alt="image-20220613195021556"></li>
</ul>
<p>自学习：</p>
<p><img src="E:\typora-user-images\image-20220613195055320-1697679581289535.png" srcset="/img/loading.gif" lazyload alt="image-20220613195055320"></p>
<p>交换机是即插即用设备 (plug-and-play device)。只需将LAN网段连接到交换机的接口，其他不需网络管理员和用户干预。</p>
<p>交换机：数据帧的转发和过滤</p>
<p><img src="E:\typora-user-images\image-20220613195325297-1697679581289536.png" srcset="/img/loading.gif" lazyload alt="image-20220613195325297"></p>
<p>例：</p>
<p><img src="E:\typora-user-images\image-20220613195442763-1697679581289537.png" srcset="/img/loading.gif" lazyload alt="image-20220613195442763"></p>
<p><img src="E:\typora-user-images\image-20220613195452365-1697679581289538.png" srcset="/img/loading.gif" lazyload alt="image-20220613195452365"></p>
<p><img src="E:\typora-user-images\image-20220613195505630-1697679581289539.png" srcset="/img/loading.gif" lazyload alt="image-20220613195505630"></p>
<p><img src="E:\typora-user-images\image-20220613195532390-1697679581289540.png" srcset="/img/loading.gif" lazyload alt="image-20220613195532390"></p>
<p><img src="E:\typora-user-images\image-20220613195856704-1697679581289541.png" srcset="/img/loading.gif" lazyload alt="image-20220613195856704"></p>
<p>交换机互连：</p>
<p><img src="E:\typora-user-images\image-20220613200133563-1697679581289542.png" srcset="/img/loading.gif" lazyload alt="image-20220613200133563"></p>
<p>例：<img src="E:\typora-user-images\image-20220613200225016-1697679581289543.png" srcset="/img/loading.gif" lazyload alt="image-20220613200225016"></p>
<p><strong>交换机和路由器</strong><br>共同点：</p>
<ul>
<li>两者都是存储转发设备:<ul>
<li>路由器: 网络层设备(检查网络层头部)</li>
<li>交换机：链路层设备(检查链路层头部)</li>
</ul>
</li>
<li>两者都有转发表<ul>
<li>路由器：使用路由算法计算转发表，基于IP地址转发</li>
<li>交换机：通过洪泛、自学习来学习转发表，基于MAC地址转发</li>
</ul>
</li>
</ul>
<p>交换机的优缺点：</p>
<ul>
<li>即插即用：不需网络管理员干预；</li>
<li>较高的分组过滤和转发率：</li>
<li>拓扑结构为一棵生成树。</li>
<li>可能产生“广播风暴”：<ul>
<li>某台主机失控，并传输无穷的以太网广播帧流，交换机将转发所有这些帧，导致整个以太网的崩溃。</li>
</ul>
</li>
</ul>
<p>路由器的优缺点：</p>
<ul>
<li>网络寻址是层次的；</li>
<li>若网络中存在冗余路径，分组不会在路由器中循环。</li>
<li>无生成树限制，使用路由器构建因特网可以采用大量丰富的拓扑结构。</li>
<li>可以使用源和目的之间的最佳路径。</li>
<li>为第二层的广播风暴提供防火墙保护。</li>
<li>非即插即用：路由器及主机都需配置IP地址。</li>
<li>每个分组的处理时间比交换机长</li>
</ul>
<h4 id="5-4-4-虚拟局域网VLANs"><a href="#5-4-4-虚拟局域网VLANs" class="headerlink" title="5.4.4-虚拟局域网VLANs"></a>5.4.4-虚拟局域网VLANs</h4><p><img src="E:\typora-user-images\image-20220613200724341-1697679581289544.png" srcset="/img/loading.gif" lazyload alt="image-20220613200724341"></p>
<p><img src="E:\typora-user-images\image-20220613200712575-1697679581289545.png" srcset="/img/loading.gif" lazyload alt="image-20220613200712575"></p>
<p><img src="E:\typora-user-images\image-20220613200735412-1697679581289546.png" srcset="/img/loading.gif" lazyload alt="image-20220613200735412"></p>
<p><img src="E:\typora-user-images\image-20220613200751981-1697679581289548.png" srcset="/img/loading.gif" lazyload alt="image-20220613200751981"></p>
<p><strong>跨越多个交换机的VLAN</strong></p>
<p><img src="E:\typora-user-images\image-20220613200834350-1697679581289547.png" srcset="/img/loading.gif" lazyload alt="image-20220613200834350"></p>
<p>三层交换是相对于传统的交换概念而提出的</p>
<p>传统的交换技术是在OSI网络参考模型中的第二层（即数据链路层）<br>进行操作的，通常称做“二层交换机”。</p>
<p>三层交换技术能够在网络模型中的第三层实现数据包的高速转发。简单地说，三层交换技术就是二层交换技术+三层转发技术，三层交换机就是“二层交换机+基于硬件的路由器”</p>
<p><img src="E:\typora-user-images\image-20220613200918791-1697679581289549.png" srcset="/img/loading.gif" lazyload alt="image-20220613200918791"></p>
<p><img src="E:\typora-user-images\image-20220613200938162-1697679581289550.png" srcset="/img/loading.gif" lazyload alt="image-20220613200938162"></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="category-chain-item">计算机基础</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">#计算机网络</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>计算机网络-总结</div>
      <div>http://example.com/2023/10/19/计算机网络-总结/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>JasmineChen</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年10月19日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/10/19/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%80%BB%E7%BB%93/" title="操作系统-总结">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">操作系统-总结</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/10/16/Java-Basis/" title="Java-Basis">
                        <span class="hidden-mobile">Java-Basis</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
